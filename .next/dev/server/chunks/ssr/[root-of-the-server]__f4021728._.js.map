{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils/index.ts"],"sourcesContent":["// lib/utils/index.ts\n// Shared utility functions for the application\n\nimport { AppStatus, AppType } from \"@prisma/client\";\n\n/**\n * Humanize enum values by replacing underscores with spaces and capitalizing words\n */\nexport const humanizeEnum = (value: string): string => {\n  return value\n    .toLowerCase()\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, l => l.toUpperCase());\n};\n\n/**\n * Status variant functions for consistent badge styling\n */\nexport const getAppStatusVariant = (status: AppStatus) => {\n  switch (status) {\n    case \"APPROVED\": return \"default\";\n    case \"SUBMITTED\": case \"IN_REVIEW\": return \"secondary\";\n    case \"REJECTED\": return \"destructive\";\n    default: return \"outline\";\n  }\n};\n\n/**\n * Get allowed status transitions for applications\n */\nexport const getAllowedStatuses = (applicationType: AppType, currentStatus?: AppStatus): AppStatus[] => {\n  const allStatuses = Object.values(AppStatus);\n\n  // For foster applications, restrict some status transitions\n  if (applicationType === AppType.FOSTER) {\n    // Fosters can be approved (creates foster profile) or rejected\n    // Can't be marked as \"IN_REVIEW\" inappropriately\n    return allStatuses.filter(status =>\n      status !== AppStatus.IN_REVIEW || currentStatus === AppStatus.IN_REVIEW\n    );\n  }\n\n  // For adoption applications, all statuses are allowed\n  return allStatuses;\n};\n\n/**\n * Check if status change notes are required for a given status\n */\nexport const areStatusNotesRequired = (status: AppStatus): boolean => {\n  return status === AppStatus.APPROVED || status === AppStatus.REJECTED;\n};\n"],"names":[],"mappings":"AAAA,qBAAqB;AACrB,+CAA+C;;;;;;;;;;;AAE/C;;AAKO,MAAM,eAAe,CAAC;IAC3B,OAAO,MACJ,WAAW,GACX,OAAO,CAAC,MAAM,KACd,OAAO,CAAC,SAAS,CAAA,IAAK,EAAE,WAAW;AACxC;AAKO,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAY,OAAO;QACxB,KAAK;QAAa,KAAK;YAAa,OAAO;QAC3C,KAAK;YAAY,OAAO;QACxB;YAAS,OAAO;IAClB;AACF;AAKO,MAAM,qBAAqB,CAAC,iBAA0B;IAC3D,MAAM,cAAc,OAAO,MAAM,CAAC,0IAAS;IAE3C,4DAA4D;IAC5D,IAAI,oBAAoB,wIAAO,CAAC,MAAM,EAAE;QACtC,+DAA+D;QAC/D,iDAAiD;QACjD,OAAO,YAAY,MAAM,CAAC,CAAA,SACxB,WAAW,0IAAS,CAAC,SAAS,IAAI,kBAAkB,0IAAS,CAAC,SAAS;IAE3E;IAEA,sDAAsD;IACtD,OAAO;AACT;AAKO,MAAM,yBAAyB,CAAC;IACrC,OAAO,WAAW,0IAAS,CAAC,QAAQ,IAAI,WAAW,0IAAS,CAAC,QAAQ;AACvE","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { AppStatus, AppType, DogStatus } from \"@prisma/client\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n\n// This check can be removed, it is just for tutorial purposes\nexport const hasEnvVars =\n  !!(process.env.NEXT_PUBLIC_SUPABASE_URL &&\n     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n\n\nexport const getDogStatusVariant = (status: DogStatus) => {\n  switch (status) {\n    case \"ADOPTED\": return \"default\";\n    case \"AVAILABLE\": return \"secondary\";\n    case \"MEDICAL_HOLD\": return \"destructive\";\n    case \"PENDING\": case \"IN_FOSTER\": return \"outline\";\n    default: return \"secondary\";\n  }\n};\n\n// Date formatting utilities\nexport const formatDateTime = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  }).format(date);\n\nexport const formatDateRange = (start: Date, end: Date) => {\n  const sameDay =\n    start.getFullYear() === end.getFullYear() &&\n    start.getMonth() === end.getMonth() &&\n    start.getDate() === end.getDate();\n\n  if (sameDay) {\n    return `${formatDateTime(start)} ‚Äì ${new Intl.DateTimeFormat(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    }).format(end)}`;\n  }\n\n  return `${formatDateTime(start)} ‚Üí ${formatDateTime(end)}`;\n};\n\nexport const formatShiftTime = (start: Date, end: Date): string => {\n  const startDate = start.toLocaleDateString();\n  const startTime = start.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n  const endTime = end.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n\n  if (startDate === end.toLocaleDateString()) {\n    return `${startDate}, ${startTime} - ${endTime}`;\n  }\n  return `${startDate}, ${startTime} - ${end.toLocaleDateString()}, ${endTime}`;\n};\n\nexport const formatAdoptionDate = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(date);\n\n// Re-export shared utilities\nexport { humanizeEnum, getAppStatusVariant, getAllowedStatuses, areStatusNotesRequired } from './utils/index';\n\n// Test endpoint validation - allow in test environment or with test secret header\nexport function validateTestEndpoint(request: Request): { isValid: boolean; response?: Response } {\n  const isTestEnv = process.env.NODE_ENV === 'test' && process.env.EXPOSE_TEST_API === '1';\n\n  const testSecret = request.headers.get('x-test-secret');\n  const expectedSecret = process.env.TEST_SECRET || 'test-secret-default';\n  const hasValidTestSecret = testSecret === expectedSecret;\n\n  if (!isTestEnv || !hasValidTestSecret) {\n    return {\n      isValid: false,\n      response: new Response(null, { status: 404 })\n    };\n  }\n\n  return { isValid: true };\n}\n\n// Route definitions have been moved to lib/routes.ts\n// Import route functions from @/lib/routes instead\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAqEA,6BAA6B;AAC7B;;;AAlEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAIO,MAAM,aACX,CAAC,CAAC,CAAC,kKACyC;AAGvC,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAW,OAAO;QACvB,KAAK;YAAa,OAAO;QACzB,KAAK;YAAgB,OAAO;QAC5B,KAAK;QAAW,KAAK;YAAa,OAAO;QACzC;YAAS,OAAO;IAClB;AACF;AAGO,MAAM,iBAAiB,CAAC,OAC7B,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC;AAEL,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,UACJ,MAAM,WAAW,OAAO,IAAI,WAAW,MACvC,MAAM,QAAQ,OAAO,IAAI,QAAQ,MACjC,MAAM,OAAO,OAAO,IAAI,OAAO;IAEjC,IAAI,SAAS;QACX,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,IAAI,KAAK,cAAc,CAAC,SAAS;YACpE,MAAM;YACN,QAAQ;QACV,GAAG,MAAM,CAAC,MAAM;IAClB;IAEA,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,eAAe,MAAM;AAC5D;AAEO,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,YAAY,MAAM,kBAAkB;IAC1C,MAAM,YAAY,MAAM,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IACpF,MAAM,UAAU,IAAI,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IAEhF,IAAI,cAAc,IAAI,kBAAkB,IAAI;QAC1C,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,SAAS;IAClD;IACA,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,IAAI,kBAAkB,GAAG,EAAE,EAAE,SAAS;AAC/E;AAEO,MAAM,qBAAqB,CAAC,OACjC,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;;AAML,SAAS,qBAAqB,OAAgB;IACnD,MAAM,YAAY,oDAAyB,UAAU,QAAQ,GAAG,CAAC,eAAe,KAAK;IAErF,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,MAAM,iBAAiB,QAAQ,GAAG,CAAC,WAAW,IAAI;IAClD,MAAM,qBAAqB,eAAe;IAE1C,wCAAuC;QACrC,OAAO;YACL,SAAS;YACT,UAAU,IAAI,SAAS,MAAM;gBAAE,QAAQ;YAAI;QAC7C;IACF;;;AAGF,EAEA,qDAAqD;CACrD,mDAAmD","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  type = \"button\",\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      type={Comp === \"button\" ? type : undefined}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,OAAO,QAAQ,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,MAAM,SAAS,WAAW,OAAO;QAChC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/hooks/useDogForm.ts"],"sourcesContent":["import { useState, useRef, useCallback } from \"react\";\nimport { Dog } from \"@prisma/client\";\n\ninterface UseDogPhotoUploadProps {\n  dog?: Dog;\n}\n\nexport function useDogPhotoUpload({ dog }: UseDogPhotoUploadProps) {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(dog?.primaryPhotoUrl || null);\n  const [isDragOver, setIsDragOver] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = useCallback((file: File | null) => {\n    setSelectedFile(file);\n    if (file) {\n      const url = URL.createObjectURL(file);\n      setPreviewUrl(url);\n    } else {\n      setPreviewUrl(dog?.primaryPhotoUrl || null);\n    }\n  }, [dog?.primaryPhotoUrl]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const clearFile = useCallback(() => {\n    handleFileSelect(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  }, [handleFileSelect]);\n\n  const validateFile = useCallback((file: File): string | null => {\n    if (file.size > 10 * 1024 * 1024) { // 10MB limit\n      return \"File size must be less than 10MB\";\n    }\n    if (!file.type.startsWith('image/')) {\n      return \"File must be an image\";\n    }\n    return null; // Valid for basic checks\n  }, []);\n\n  const handleFileInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0] || null;\n    if (file) {\n      const error = validateFile(file);\n      if (error) {\n        alert(error); // Simple error display - could be improved with toast\n        return;\n      }\n      handleFileSelect(file);\n    }\n  }, [validateFile, handleFileSelect]);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n\n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      const file = files[0];\n      const error = validateFile(file);\n      if (error) {\n        alert(error); // Simple error display - could be improved with toast\n        return;\n      }\n      handleFileSelect(file);\n    }\n  }, [validateFile, handleFileSelect]);\n\n  return {\n    selectedFile,\n    previewUrl,\n    isDragOver,\n    fileInputRef,\n    handleFileSelect,\n    handleDragOver,\n    handleDragLeave,\n    clearFile,\n    validateFile,\n    handleFileInputChange,\n    handleDrop,\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;;AAOO,SAAS,kBAAkB,EAAE,GAAG,EAA0B;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAc;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB,KAAK,mBAAmB;IACpF,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,eAAe,IAAA,+MAAM,EAAmB;IAE9C,MAAM,mBAAmB,IAAA,oNAAW,EAAC,CAAC;QACpC,gBAAgB;QAChB,IAAI,MAAM;YACR,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,cAAc;QAChB,OAAO;YACL,cAAc,KAAK,mBAAmB;QACxC;IACF,GAAG;QAAC,KAAK;KAAgB;IAEzB,MAAM,iBAAiB,IAAA,oNAAW,EAAC,CAAC;QAClC,EAAE,cAAc;QAChB,cAAc;IAChB,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,oNAAW,EAAC,CAAC;QACnC,EAAE,cAAc;QAChB,cAAc;IAChB,GAAG,EAAE;IAEL,MAAM,YAAY,IAAA,oNAAW,EAAC;QAC5B,iBAAiB;QACjB,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF,GAAG;QAAC;KAAiB;IAErB,MAAM,eAAe,IAAA,oNAAW,EAAC,CAAC;QAChC,IAAI,KAAK,IAAI,GAAG,KAAK,OAAO,MAAM;YAChC,OAAO;QACT;QACA,IAAI,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;YACnC,OAAO;QACT;QACA,OAAO,MAAM,yBAAyB;IACxC,GAAG,EAAE;IAEL,MAAM,wBAAwB,IAAA,oNAAW,EAAC,CAAC;QACzC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;QACpC,IAAI,MAAM;YACR,MAAM,QAAQ,aAAa;YAC3B,IAAI,OAAO;gBACT,MAAM,QAAQ,sDAAsD;gBACpE;YACF;YACA,iBAAiB;QACnB;IACF,GAAG;QAAC;QAAc;KAAiB;IAEnC,MAAM,aAAa,IAAA,oNAAW,EAAC,CAAC;QAC9B,EAAE,cAAc;QAChB,cAAc;QAEd,MAAM,QAAQ,EAAE,YAAY,CAAC,KAAK;QAClC,IAAI,MAAM,MAAM,GAAG,GAAG;YACpB,MAAM,OAAO,KAAK,CAAC,EAAE;YACrB,MAAM,QAAQ,aAAa;YAC3B,IAAI,OAAO;gBACT,MAAM,QAAQ,sDAAsD;gBACpE;YACF;YACA,iBAAiB;QACnB;IACF,GAAG;QAAC;QAAc;KAAiB;IAEnC,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kIAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/log.ts"],"sourcesContent":["// lib/log.ts\n/**\n * Structured logging with Pino for production observability\n *\n * Replaces console.log with structured JSON logging for:\n * - Metrics aggregation (rate_limit.rejections, auth.redirects, etc.)\n * - Alerting (SLO violations)\n * - Debugging (correlated request tracing)\n */\n\nimport pino from \"pino\";\n\n// Configure Pino with production-safe settings\nconst inEdge = typeof (globalThis as { EdgeRuntime?: unknown }).EdgeRuntime !== \"undefined\";\nconst useTransport =\n  !inEdge &&\n  process.env.PINO_TRANSPORT !== \"none\" &&\n  process.env.NODE_ENV === \"production\"; // use worker only in prod\n\nexport const log = pino({\n  level: process.env.LOG_LEVEL ?? \"info\",\n  redact: {\n    paths: [\n      \"req.headers.authorization\",\n      \"req.headers.cookie\",\n      \"req.body.password\",\n      \"req.body.confirmPassword\",\n      \"password\",\n      \"token\"\n    ],\n    censor: \"[redacted]\"\n  },\n  // Add hostname and service name for multi-service correlation\n  base: {\n    service: \"senior-dog-rescue\",\n    hostname: process.env.HOSTNAME || \"unknown\",\n  },\n  // Pretty print in development for readability (but avoid worker transport)\n  ...(useTransport && {\n    transport: {\n      target: \"pino-pretty\",\n      options: {\n        colorize: true,\n        translateTime: \"SYS:standard\",\n        ignore: \"hostname,pid\",\n      },\n    },\n  }),\n});\n\n// Metric helpers for SLO tracking\nexport const metrics = {\n  // Rate limiting metrics\n  rateLimitRejection: (route: string, ipHash: string, userId?: string) =>\n    log.warn({\n      metric: \"rate_limit.rejections\",\n      route,\n      ipHash,\n      userId,\n      value: 1,\n    }, \"Rate limit exceeded\"),\n\n  // Authentication metrics\n  authRedirect: (route: string, reason: \"no_session\" | \"insufficient_role\", userRole?: string) =>\n    log.info({\n      metric: \"auth.redirects\",\n      route,\n      reason,\n      userRole,\n      value: 1,\n    }, \"Authentication redirect\"),\n\n  // Image security metrics\n  unknownImageHostRejection: (host: string, route: string) =>\n    log.warn({\n      metric: \"unknown_image_host_rejections\",\n      host,\n      route,\n      value: 1,\n    }, \"Unknown image host rejected\"),\n\n  // API latency metrics (p50/p95 tracking)\n  apiLatency: (route: string, method: string, statusCode: number, durationMs: number, userRole?: string) =>\n    log.info({\n      metric: \"api.latency_ms\",\n      route,\n      method,\n      statusCode,\n      durationMs,\n      userRole,\n      value: durationMs,\n    }, \"API request completed\"),\n\n  // Error metrics\n  serverError: (route: string, error: string, statusCode: number) =>\n    log.error({\n      metric: \"server.errors\",\n      route,\n      error,\n      statusCode,\n      value: 1,\n    }, \"Server error occurred\"),\n};\n\n// Helper to create child loggers with context\nexport function createRequestLogger(requestId: string, route: string) {\n  return log.child({\n    requestId,\n    route,\n  });\n}\n"],"names":[],"mappings":"AAAA,aAAa;AACb;;;;;;;CAOC;;;;;;;;AAED;;AAEA,+CAA+C;AAC/C,MAAM,SAAS,OAAO,AAAC,WAAyC,WAAW,KAAK;AAChF,MAAM,eACJ,CAAC,UACD,QAAQ,GAAG,CAAC,cAAc,KAAK,UAC/B,oDAAyB,cAAc,0BAA0B;AAE5D,MAAM,MAAM,IAAA,uIAAI,EAAC;IACtB,OAAO,QAAQ,GAAG,CAAC,SAAS,IAAI;IAChC,QAAQ;QACN,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;SACD;QACD,QAAQ;IACV;IACA,8DAA8D;IAC9D,MAAM;QACJ,SAAS;QACT,UAAU,QAAQ,GAAG,CAAC,QAAQ,IAAI;IACpC;IACA,2EAA2E;IAC3E,GAAI,gBAAgB;QAClB,WAAW;YACT,QAAQ;YACR,SAAS;gBACP,UAAU;gBACV,eAAe;gBACf,QAAQ;YACV;QACF;IACF,CAAC;AACH;AAGO,MAAM,UAAU;IACrB,wBAAwB;IACxB,oBAAoB,CAAC,OAAe,QAAgB,SAClD,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,yBAAyB;IACzB,cAAc,CAAC,OAAe,QAA4C,WACxE,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,yBAAyB;IACzB,2BAA2B,CAAC,MAAc,QACxC,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA,OAAO;QACT,GAAG;IAEL,yCAAyC;IACzC,YAAY,CAAC,OAAe,QAAgB,YAAoB,YAAoB,WAClF,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,gBAAgB;IAChB,aAAa,CAAC,OAAe,OAAe,aAC1C,IAAI,KAAK,CAAC;YACR,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;AACP;AAGO,SAAS,oBAAoB,SAAiB,EAAE,KAAa;IAClE,OAAO,IAAI,KAAK,CAAC;QACf;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/image-loader.ts"],"sourcesContent":["// lib/image-loader.ts\n// Custom Next.js Image loader with telemetry for domain validation\n\nimport { metrics } from \"@/lib/log\";\n\n// Allowed domains from next.config.ts for reference\nconst ALLOWED_DOMAINS = [\n  'via.placeholder.com',\n  'picsum.photos',\n  'scontent.xx.fbcdn.net',\n  'external.xx.fbcdn.net',\n  'dl5zpyw5k3jeb.cloudfront.net',\n  'assets.adoptapet.com',\n  'muttville.org',\n  // Supabase domain will be added dynamically below\n];\n\nexport default function imageLoader({ src, width, quality }: {\n  src: string;\n  width: number;\n  quality?: number;\n}) {\n  // Extract hostname from src URL for telemetry\n  try {\n    const url = new URL(src);\n    const hostname = url.hostname;\n\n    // Get Supabase hostname if available\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n    let supabaseHostname: string | null = null;\n    if (supabaseUrl) {\n      try {\n        supabaseHostname = new URL(supabaseUrl).hostname;\n      } catch {\n        // Invalid Supabase URL\n      }\n    }\n\n    const allAllowedDomains = supabaseHostname\n      ? [...ALLOWED_DOMAINS, supabaseHostname]\n      : ALLOWED_DOMAINS;\n\n    // Check if domain is in allowlist\n    const isAllowed = allAllowedDomains.some(allowed => {\n      if (allowed.includes('xx')) {\n        // Handle Facebook's region-specific domains\n        return hostname.includes('fbcdn.net');\n      }\n      return hostname === allowed || hostname === 'localhost'; // Allow localhost for development\n    });\n\n    if (!isAllowed) {\n      // Emit SLO metric for unknown image host rejections\n      metrics.unknownImageHostRejection(hostname, 'image-loader');\n\n      const errorMsg = `[ImageLoader] üö´ Domain not allowed: ${hostname}. Add to next.config.ts remotePatterns if legitimate.`;\n      console.error(errorMsg);\n      console.error(`[ImageLoader] Allowed domains: ${allAllowedDomains.join(', ')}`);\n      console.error(`[ImageLoader] Image source: ${src}`);\n\n      // In development, this will help catch configuration issues early\n      if (process.env.NODE_ENV === 'development') {\n        console.error(`[ImageLoader] To fix: Add '${hostname}' to remotePatterns in next.config.ts`);\n      }\n    } else {\n      // Log allowed domain usage for monitoring\n      console.log(`[ImageLoader] ‚úÖ Loading image from allowed domain: ${hostname}`);\n    }\n\n    // In development, warn about potentially problematic sources\n    if (process.env.NODE_ENV === 'development') {\n      const suspiciousPatterns = ['http:', 'localhost', '127.0.0.1', '0.0.0.0'];\n      const isSuspicious = suspiciousPatterns.some(pattern => src.includes(pattern));\n\n      if (isSuspicious) {\n        console.warn(`[ImageLoader] ‚ö†Ô∏è  Suspicious image source (allowed but review): ${src}`);\n      }\n    }\n  } catch (error) {\n    // If URL parsing fails, log the error for debugging\n    console.error(`[ImageLoader] Failed to parse image URL: ${src}`, error);\n  }\n\n  // Use Next.js default loader behavior\n  return `${src}?w=${width}&q=${quality || 75}`;\n}\n"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,mEAAmE;;;;;AAEnE;;AAEA,oDAAoD;AACpD,MAAM,kBAAkB;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;CAED;AAEc,SAAS,YAAY,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAIxD;IACC,8CAA8C;IAC9C,IAAI;QACF,MAAM,MAAM,IAAI,IAAI;QACpB,MAAM,WAAW,IAAI,QAAQ;QAE7B,qCAAqC;QACrC,MAAM;QACN,IAAI,mBAAkC;QACtC,wCAAiB;YACf,IAAI;gBACF,mBAAmB,IAAI,IAAI,aAAa,QAAQ;YAClD,EAAE,OAAM;YACN,uBAAuB;YACzB;QACF;QAEA,MAAM,oBAAoB,mBACtB;eAAI;YAAiB;SAAiB,GACtC;QAEJ,kCAAkC;QAClC,MAAM,YAAY,kBAAkB,IAAI,CAAC,CAAA;YACvC,IAAI,QAAQ,QAAQ,CAAC,OAAO;gBAC1B,4CAA4C;gBAC5C,OAAO,SAAS,QAAQ,CAAC;YAC3B;YACA,OAAO,aAAa,WAAW,aAAa,aAAa,kCAAkC;QAC7F;QAEA,IAAI,CAAC,WAAW;YACd,oDAAoD;YACpD,qHAAO,CAAC,yBAAyB,CAAC,UAAU;YAE5C,MAAM,WAAW,CAAC,qCAAqC,EAAE,SAAS,qDAAqD,CAAC;YACxH,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,kBAAkB,IAAI,CAAC,OAAO;YAC9E,QAAQ,KAAK,CAAC,CAAC,4BAA4B,EAAE,KAAK;YAElD,kEAAkE;YAClE,wCAA4C;gBAC1C,QAAQ,KAAK,CAAC,CAAC,2BAA2B,EAAE,SAAS,qCAAqC,CAAC;YAC7F;QACF,OAAO;YACL,0CAA0C;YAC1C,QAAQ,GAAG,CAAC,CAAC,mDAAmD,EAAE,UAAU;QAC9E;QAEA,6DAA6D;QAC7D,wCAA4C;YAC1C,MAAM,qBAAqB;gBAAC;gBAAS;gBAAa;gBAAa;aAAU;YACzE,MAAM,eAAe,mBAAmB,IAAI,CAAC,CAAA,UAAW,IAAI,QAAQ,CAAC;YAErE,IAAI,cAAc;gBAChB,QAAQ,IAAI,CAAC,CAAC,gEAAgE,EAAE,KAAK;YACvF;QACF;IACF,EAAE,OAAO,OAAO;QACd,oDAAoD;QACpD,QAAQ,KAAK,CAAC,CAAC,yCAAyC,EAAE,KAAK,EAAE;IACnE;IAEA,sCAAsC;IACtC,OAAO,GAAG,IAAI,GAAG,EAAE,MAAM,GAAG,EAAE,WAAW,IAAI;AAC/C","debugId":null}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/admin/DogFormPhotoUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport { Dog } from \"@prisma/client\";\nimport { Label } from \"@/components/ui/label\";\nimport Image from \"next/image\";\nimport { Upload, X } from \"lucide-react\";\n\ninterface DogFormPhotoUploadProps {\n  dog?: Dog;\n  selectedFile: File | null;\n  previewUrl: string | null;\n  isDragOver: boolean;\n  fileInputRef: React.RefObject<HTMLInputElement | null>;\n  handleDragOver: (e: React.DragEvent) => void;\n  handleDragLeave: (e: React.DragEvent) => void;\n  handleDrop: (e: React.DragEvent) => void;\n  handleFileInputChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  clearFile: () => void;\n}\n\nexport function DogFormPhotoUpload({\n  dog,\n  selectedFile,\n  previewUrl,\n  isDragOver,\n  fileInputRef,\n  handleDragOver,\n  handleDragLeave,\n  handleDrop,\n  handleFileInputChange,\n  clearFile,\n}: DogFormPhotoUploadProps) {\n  return (\n    <div className=\"space-y-2\">\n      <Label>{dog ? 'Replace' : 'Add'} Primary Photo</Label>\n\n      {/* Current/Preview Image */}\n      {previewUrl && (\n        <div className=\"relative inline-block\">\n          <Image\n            src={previewUrl}\n            alt={dog ? `Current photo of ${dog.name}` : \"Photo preview\"}\n            width={150}\n            height={150}\n            className=\"rounded-md object-cover border\"\n          />\n          {selectedFile && (\n            <button\n              type=\"button\"\n              onClick={clearFile}\n              className=\"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 hover:bg-destructive/90\"\n            >\n              <X className=\"h-4 w-4\" />\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Drag and Drop Zone */}\n      <div\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n        className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${\n          isDragOver\n            ? 'border-primary bg-primary/5'\n            : 'border-muted-foreground/25 hover:border-primary/50'\n        }`}\n        onClick={() => fileInputRef.current?.click()}\n      >\n        <Upload className=\"h-8 w-8 mx-auto mb-2 text-muted-foreground\" />\n        <p className=\"text-sm text-muted-foreground mb-1\">\n          {isDragOver ? 'Drop image here' : 'Drag & drop an image here, or click to select'}\n        </p>\n        <p className=\"text-xs text-muted-foreground\">\n          PNG, JPG up to 10MB\n        </p>\n      </div>\n\n      {/* Hidden File Input */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        name=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileInputChange}\n        className=\"hidden\"\n      />\n\n      {selectedFile && (\n        <p className=\"text-sm text-green-600\">\n          Selected: {selectedFile.name} ({(selectedFile.size / 1024 / 1024).toFixed(1)}MB)\n        </p>\n      )}\n\n      {!dog && !selectedFile && (\n        <p className=\"text-sm text-muted-foreground\">\n          Upload a photo for this new dog.\n        </p>\n      )}\n      {dog && !selectedFile && (\n        <p className=\"text-sm text-muted-foreground\">\n          Upload a new file to replace the current photo.\n        </p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AALA;;;;;AAoBO,SAAS,mBAAmB,EACjC,GAAG,EACH,YAAY,EACZ,UAAU,EACV,UAAU,EACV,YAAY,EACZ,cAAc,EACd,eAAe,EACf,UAAU,EACV,qBAAqB,EACrB,SAAS,EACe;IACxB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,mIAAK;;oBAAE,MAAM,YAAY;oBAAM;;;;;;;YAG/B,4BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,wIAAK;wBACJ,KAAK;wBACL,KAAK,MAAM,CAAC,iBAAiB,EAAE,IAAI,IAAI,EAAE,GAAG;wBAC5C,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;oBAEX,8BACC,8OAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;kCAEV,cAAA,8OAAC,iMAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAOrB,8OAAC;gBACC,YAAY;gBACZ,aAAa;gBACb,QAAQ;gBACR,WAAW,CAAC,mFAAmF,EAC7F,aACI,gCACA,sDACJ;gBACF,SAAS,IAAM,aAAa,OAAO,EAAE;;kCAErC,8OAAC,gNAAM;wBAAC,WAAU;;;;;;kCAClB,8OAAC;wBAAE,WAAU;kCACV,aAAa,oBAAoB;;;;;;kCAEpC,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;0BAM/C,8OAAC;gBACC,KAAK;gBACL,MAAK;gBACL,MAAK;gBACL,QAAO;gBACP,UAAU;gBACV,WAAU;;;;;;YAGX,8BACC,8OAAC;gBAAE,WAAU;;oBAAyB;oBACzB,aAAa,IAAI;oBAAC;oBAAG,CAAC,aAAa,IAAI,GAAG,OAAO,IAAI,EAAE,OAAO,CAAC;oBAAG;;;;;;;YAIhF,CAAC,OAAO,CAAC,8BACR,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;YAI9C,OAAO,CAAC,8BACP,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;;;;;;;AAMrD","debugId":null}},
    {"offset": {"line": 762, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kIAAE,EACX,2WACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/form-error.tsx"],"sourcesContent":["// components/ui/form-error.tsx\nexport function FormError({ error }: { error: string | string[] | undefined }) {\n  if (!error) return null;\n  const errorMessage = Array.isArray(error) ? error.join(\", \") : error;\n  return (\n    <p\n      className=\"text-red-500 text-sm mt-1 motion-reduce:animate-none animate-shake\"\n      role=\"alert\"\n      aria-live=\"assertive\"\n    >\n      {errorMessage}\n    </p>\n  );\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;;AACxB,SAAS,UAAU,EAAE,KAAK,EAA4C;IAC3E,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,eAAe,MAAM,OAAO,CAAC,SAAS,MAAM,IAAI,CAAC,QAAQ;IAC/D,qBACE,8OAAC;QACC,WAAU;QACV,MAAK;QACL,aAAU;kBAET;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kIAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,kIAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,kIAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,kIAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,kIAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kIAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kIAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,kIAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/admin/DogCoreFields.tsx"],"sourcesContent":["// components/admin/DogCoreFields.tsx\n\"use client\";\n\nimport { Dog, DogStatus, Gender, DogSize } from \"@prisma/client\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { FormError } from \"@/components/ui/form-error\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\ntype FormState = {\n  success: boolean;\n  message: string | null;\n  fieldErrors?: Record<string, string[]>;\n};\n\ninterface DogCoreFieldsProps {\n  dog?: Dog;\n  state?: FormState;\n}\n\nexport function DogCoreFields({ dog, state }: DogCoreFieldsProps) {\n  return (\n    <>\n      {/* Basic Info */}\n      <div>\n        <Label htmlFor=\"name\">Name</Label>\n        <Input\n          id=\"name\"\n          name=\"name\"\n          data-testid=\"input-dog-name\"\n          placeholder=\"Dog's name\"\n          defaultValue={dog?.name || \"\"}\n          required\n          maxLength={50}\n        />\n        <FormError error={state?.fieldErrors?.name} />\n      </div>\n\n      <div>\n        <Label htmlFor=\"breed\">Breed</Label>\n        <Select\n          name=\"breed\"\n          defaultValue={dog?.breed || \"\"}\n        >\n          <SelectTrigger data-testid=\"select-breed\">\n            <SelectValue placeholder=\"Select a breed\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"Mixed Breed\">Mixed Breed</SelectItem>\n            <SelectItem value=\"Golden Retriever\">Golden Retriever</SelectItem>\n            <SelectItem value=\"Labrador Retriever\">Labrador Retriever</SelectItem>\n            <SelectItem value=\"German Shepherd\">German Shepherd</SelectItem>\n            <SelectItem value=\"Chihuahua\">Chihuahua</SelectItem>\n            <SelectItem value=\"Poodle\">Poodle</SelectItem>\n            <SelectItem value=\"Bulldog\">Bulldog</SelectItem>\n            <SelectItem value=\"Beagle\">Beagle</SelectItem>\n            <SelectItem value=\"Rottweiler\">Rottweiler</SelectItem>\n            <SelectItem value=\"Siberian Husky\">Siberian Husky</SelectItem>\n          </SelectContent>\n        </Select>\n        <FormError error={state?.fieldErrors?.breed} />\n      </div>\n\n      <div>\n        <Label htmlFor=\"dateOfBirth\">Date of Birth</Label>\n        <Input\n          id=\"dateOfBirth\"\n          name=\"dateOfBirth\"\n          type=\"date\"\n          data-testid=\"input-dateOfBirth\"\n          placeholder=\"Date of birth\"\n          defaultValue={dog?.dateOfBirth ? new Date(dog.dateOfBirth).toISOString().split('T')[0] : \"\"}\n        />\n        <FormError error={state?.fieldErrors?.dateOfBirth} />\n      </div>\n\n      <div>\n        <Label htmlFor=\"gender\">Gender</Label>\n        <Select\n          name=\"gender\"\n          defaultValue={dog?.gender || \"\"}\n        >\n          <SelectTrigger data-testid=\"select-gender\">\n            <SelectValue placeholder=\"Select gender\" />\n          </SelectTrigger>\n          <SelectContent>\n            {Object.values(Gender).map((g) => (\n              <SelectItem key={g} value={g}>\n                {g}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n        <FormError error={state?.fieldErrors?.gender} />\n      </div>\n\n      <div>\n        <Label htmlFor=\"size\">Size</Label>\n        <Select\n          name=\"size\"\n          defaultValue={dog?.size || \"\"}\n        >\n          <SelectTrigger data-testid=\"select-size\">\n            <SelectValue placeholder=\"Select size\" />\n          </SelectTrigger>\n          <SelectContent>\n            {Object.values(DogSize).map((s) => (\n              <SelectItem key={s} value={s}>\n                {s}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n        <FormError error={state?.fieldErrors?.size} />\n      </div>\n\n      <div>\n        <Label htmlFor=\"weight_lbs\">Weight (lbs)</Label>\n        <Input\n          id=\"weight_lbs\"\n          name=\"weight_lbs\"\n          type=\"number\"\n          step=\"0.1\"\n          data-testid=\"input-weight\"\n          placeholder=\"Weight in pounds\"\n          defaultValue={dog?.weight_lbs || \"\"}\n        />\n        <FormError error={state?.fieldErrors?.weight_lbs} />\n      </div>\n\n      <div>\n        <Label htmlFor=\"status\">Status</Label>\n        <Select\n          name=\"status\"\n          defaultValue={dog?.status || DogStatus.INTAKE}\n        >\n          <SelectTrigger data-testid=\"select-status\">\n            <SelectValue placeholder=\"Select a status\" />\n          </SelectTrigger>\n          <SelectContent>\n            {Object.values(DogStatus).map((s) => (\n              <SelectItem key={s} value={s}>\n                {s}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n        <FormError error={state?.fieldErrors?.status} />\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;AAGrC;AACA;AACA;AACA;AACA;AANA;;;;;;;AAyBO,SAAS,cAAc,EAAE,GAAG,EAAE,KAAK,EAAsB;IAC9D,qBACE;;0BAEE,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAO;;;;;;kCACtB,8OAAC,mIAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,eAAY;wBACZ,aAAY;wBACZ,cAAc,KAAK,QAAQ;wBAC3B,QAAQ;wBACR,WAAW;;;;;;kCAEb,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;0BAGxC,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAQ;;;;;;kCACvB,8OAAC,qIAAM;wBACL,MAAK;wBACL,cAAc,KAAK,SAAS;;0CAE5B,8OAAC,4IAAa;gCAAC,eAAY;0CACzB,cAAA,8OAAC,0IAAW;oCAAC,aAAY;;;;;;;;;;;0CAE3B,8OAAC,4IAAa;;kDACZ,8OAAC,yIAAU;wCAAC,OAAM;kDAAc;;;;;;kDAChC,8OAAC,yIAAU;wCAAC,OAAM;kDAAmB;;;;;;kDACrC,8OAAC,yIAAU;wCAAC,OAAM;kDAAqB;;;;;;kDACvC,8OAAC,yIAAU;wCAAC,OAAM;kDAAkB;;;;;;kDACpC,8OAAC,yIAAU;wCAAC,OAAM;kDAAY;;;;;;kDAC9B,8OAAC,yIAAU;wCAAC,OAAM;kDAAS;;;;;;kDAC3B,8OAAC,yIAAU;wCAAC,OAAM;kDAAU;;;;;;kDAC5B,8OAAC,yIAAU;wCAAC,OAAM;kDAAS;;;;;;kDAC3B,8OAAC,yIAAU;wCAAC,OAAM;kDAAa;;;;;;kDAC/B,8OAAC,yIAAU;wCAAC,OAAM;kDAAiB;;;;;;;;;;;;;;;;;;kCAGvC,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;0BAGxC,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAc;;;;;;kCAC7B,8OAAC,mIAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,MAAK;wBACL,eAAY;wBACZ,aAAY;wBACZ,cAAc,KAAK,cAAc,IAAI,KAAK,IAAI,WAAW,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;;;;;;kCAE3F,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;0BAGxC,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAS;;;;;;kCACxB,8OAAC,qIAAM;wBACL,MAAK;wBACL,cAAc,KAAK,UAAU;;0CAE7B,8OAAC,4IAAa;gCAAC,eAAY;0CACzB,cAAA,8OAAC,0IAAW;oCAAC,aAAY;;;;;;;;;;;0CAE3B,8OAAC,4IAAa;0CACX,OAAO,MAAM,CAAC,uIAAM,EAAE,GAAG,CAAC,CAAC,kBAC1B,8OAAC,yIAAU;wCAAS,OAAO;kDACxB;uCADc;;;;;;;;;;;;;;;;kCAMvB,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;0BAGxC,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAO;;;;;;kCACtB,8OAAC,qIAAM;wBACL,MAAK;wBACL,cAAc,KAAK,QAAQ;;0CAE3B,8OAAC,4IAAa;gCAAC,eAAY;0CACzB,cAAA,8OAAC,0IAAW;oCAAC,aAAY;;;;;;;;;;;0CAE3B,8OAAC,4IAAa;0CACX,OAAO,MAAM,CAAC,wIAAO,EAAE,GAAG,CAAC,CAAC,kBAC3B,8OAAC,yIAAU;wCAAS,OAAO;kDACxB;uCADc;;;;;;;;;;;;;;;;kCAMvB,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;0BAGxC,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAa;;;;;;kCAC5B,8OAAC,mIAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,MAAK;wBACL,MAAK;wBACL,eAAY;wBACZ,aAAY;wBACZ,cAAc,KAAK,cAAc;;;;;;kCAEnC,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;0BAGxC,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAS;;;;;;kCACxB,8OAAC,qIAAM;wBACL,MAAK;wBACL,cAAc,KAAK,UAAU,0IAAS,CAAC,MAAM;;0CAE7C,8OAAC,4IAAa;gCAAC,eAAY;0CACzB,cAAA,8OAAC,0IAAW;oCAAC,aAAY;;;;;;;;;;;0CAE3B,8OAAC,4IAAa;0CACX,OAAO,MAAM,CAAC,0IAAS,EAAE,GAAG,CAAC,CAAC,kBAC7B,8OAAC,yIAAU;wCAAS,OAAO;kDACxB;uCADc;;;;;;;;;;;;;;;;kCAMvB,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;;;AAI9C","debugId":null}},
    {"offset": {"line": 1468, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/admin/DogFosterAssignmentFields.tsx"],"sourcesContent":["// components/admin/DogFosterAssignmentFields.tsx\n\"use client\";\n\nimport { Dog } from \"@prisma/client\";\nimport { Label } from \"@/components/ui/label\";\nimport { FormError } from \"@/components/ui/form-error\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\ntype FormState = {\n  success: boolean;\n  message: string | null;\n  fieldErrors?: Record<string, string[]>;\n};\n\ntype FosterProfile = {\n  id: string;\n  name: string | null;\n  email: string;\n  hasFosterProfile?: boolean;\n};\n\ninterface DogFosterAssignmentFieldsProps {\n  dog?: Dog;\n  potentialFosters: FosterProfile[];\n  state?: FormState;\n}\n\nexport function DogFosterAssignmentFields({\n  dog,\n  potentialFosters,\n  state\n}: DogFosterAssignmentFieldsProps) {\n  return (\n    <div>\n      <Label htmlFor=\"fosterProfileId\">Foster Parent</Label>\n      <Select\n        name=\"fosterProfileId\"\n        defaultValue={dog?.fosterProfileId ?? \"\"}\n      >\n        <SelectTrigger id=\"fosterProfileId\" data-testid=\"select-foster\">\n          <SelectValue placeholder=\"Select a foster parent (optional)\" />\n        </SelectTrigger>\n        <SelectContent>\n          {potentialFosters.map((profile) => (\n            <SelectItem key={profile.id} value={profile.id}>\n              {profile.name || profile.email}\n            </SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n      <FormError error={state?.fieldErrors?.fosterProfileId} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;AAIjD;AACA;AACA;AALA;;;;;AAgCO,SAAS,0BAA0B,EACxC,GAAG,EACH,gBAAgB,EAChB,KAAK,EAC0B;IAC/B,qBACE,8OAAC;;0BACC,8OAAC,mIAAK;gBAAC,SAAQ;0BAAkB;;;;;;0BACjC,8OAAC,qIAAM;gBACL,MAAK;gBACL,cAAc,KAAK,mBAAmB;;kCAEtC,8OAAC,4IAAa;wBAAC,IAAG;wBAAkB,eAAY;kCAC9C,cAAA,8OAAC,0IAAW;4BAAC,aAAY;;;;;;;;;;;kCAE3B,8OAAC,4IAAa;kCACX,iBAAiB,GAAG,CAAC,CAAC,wBACrB,8OAAC,yIAAU;gCAAkB,OAAO,QAAQ,EAAE;0CAC3C,QAAQ,IAAI,IAAI,QAAQ,KAAK;+BADf,QAAQ,EAAE;;;;;;;;;;;;;;;;0BAMjC,8OAAC,+IAAS;gBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;AAG5C","debugId":null}},
    {"offset": {"line": 1550, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kIAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1574, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,kIAAE,EACX,sQACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAW,IAAA,kIAAE,EAAC;sBAEd,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1618, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/admin/DogPublicFields.tsx"],"sourcesContent":["// components/admin/DogPublicFields.tsx\n\"use client\";\n\nimport { Dog } from \"@prisma/client\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Label } from \"@/components/ui/label\";\nimport { FormError } from \"@/components/ui/form-error\";\n\ntype FormState = {\n  success: boolean;\n  message: string | null;\n  fieldErrors?: Record<string, string[]>;\n};\n\ninterface DogPublicFieldsProps {\n  dog?: Dog;\n  state?: FormState;\n}\n\nexport function DogPublicFields({ dog, state }: DogPublicFieldsProps) {\n  return (\n    <>\n      {/* Bio and Special Needs */}\n      <div className=\"flex flex-row items-start space-x-3 space-y-0\">\n        <Checkbox\n          id=\"specialNeeds\"\n          name=\"specialNeeds\"\n          defaultChecked={dog?.specialNeeds || false}\n        />\n        <div className=\"space-y-1 leading-none\">\n          <Label htmlFor=\"specialNeeds\">Special Needs</Label>\n        </div>\n      </div>\n      <FormError error={state?.fieldErrors?.specialNeeds} />\n\n      <div>\n        <Label htmlFor=\"bioPublic\">Public Bio</Label>\n        <Textarea\n          id=\"bioPublic\"\n          name=\"bioPublic\"\n          data-testid=\"textarea-bio\"\n          placeholder=\"Write the public-facing description here...\"\n          className=\"min-h-[100px]\"\n          defaultValue={dog?.bioPublic || \"\"}\n        />\n        <FormError error={state?.fieldErrors?.bioPublic} />\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA,uCAAuC;;;;;;AAIvC;AACA;AACA;AACA;AANA;;;;;;AAmBO,SAAS,gBAAgB,EAAE,GAAG,EAAE,KAAK,EAAwB;IAClE,qBACE;;0BAEE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yIAAQ;wBACP,IAAG;wBACH,MAAK;wBACL,gBAAgB,KAAK,gBAAgB;;;;;;kCAEvC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,mIAAK;4BAAC,SAAQ;sCAAe;;;;;;;;;;;;;;;;;0BAGlC,8OAAC,+IAAS;gBAAC,OAAO,OAAO,aAAa;;;;;;0BAEtC,8OAAC;;kCACC,8OAAC,mIAAK;wBAAC,SAAQ;kCAAY;;;;;;kCAC3B,8OAAC,yIAAQ;wBACP,IAAG;wBACH,MAAK;wBACL,eAAY;wBACZ,aAAY;wBACZ,WAAU;wBACV,cAAc,KAAK,aAAa;;;;;;kCAElC,8OAAC,+IAAS;wBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;;;AAI9C","debugId":null}},
    {"offset": {"line": 1719, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/admin/DogInternalFields.tsx"],"sourcesContent":["// components/admin/DogInternalFields.tsx\n\"use client\";\n\nimport { Dog } from \"@prisma/client\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { FormError } from \"@/components/ui/form-error\";\n\ntype FormState = {\n  success: boolean;\n  message: string | null;\n  fieldErrors?: Record<string, string[]>;\n};\n\ninterface DogInternalFieldsProps {\n  dog?: Dog;\n  state?: FormState;\n}\n\nexport function DogInternalFields({ dog, state }: DogInternalFieldsProps) {\n  return (\n    <div>\n      <Label htmlFor=\"notesInternal\">Internal Notes (Staff Only)</Label>\n      <Textarea\n        id=\"notesInternal\"\n        name=\"notesInternal\"\n        placeholder=\"Temperament, medical notes, intake history...\"\n        className=\"min-h-[100px]\"\n        defaultValue={dog?.notesInternal || \"\"}\n      />\n      <FormError error={state?.fieldErrors?.notesInternal} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,yCAAyC;;;;;;AAIzC;AACA;AACA;AALA;;;;;AAkBO,SAAS,kBAAkB,EAAE,GAAG,EAAE,KAAK,EAA0B;IACtE,qBACE,8OAAC;;0BACC,8OAAC,mIAAK;gBAAC,SAAQ;0BAAgB;;;;;;0BAC/B,8OAAC,yIAAQ;gBACP,IAAG;gBACH,MAAK;gBACL,aAAY;gBACZ,WAAU;gBACV,cAAc,KAAK,iBAAiB;;;;;;0BAEtC,8OAAC,+IAAS;gBAAC,OAAO,OAAO,aAAa;;;;;;;;;;;;AAG5C","debugId":null}},
    {"offset": {"line": 1773, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/admin/DogForm.tsx"],"sourcesContent":["// components/admin/DogForm.tsx\n\"use client\";\n\nimport { Dog, Profile } from \"@prisma/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { useFormStatus } from \"react-dom\";\nimport { useDogPhotoUpload } from \"@/lib/hooks/useDogForm\";\nimport { DogFormPhotoUpload } from \"@/components/admin/DogFormPhotoUpload\";\nimport { DogCoreFields } from \"./DogCoreFields\";\nimport { DogFosterAssignmentFields } from \"./DogFosterAssignmentFields\";\nimport { DogPublicFields } from \"./DogPublicFields\";\nimport { DogInternalFields } from \"./DogInternalFields\";\n\ntype FosterProfile = Pick<Profile, 'id' | 'name' | 'email'>;\n\nfunction SubmitButton({ isEditing }: { isEditing: boolean }) {\n  const { pending } = useFormStatus();\n  return (\n    <Button type=\"submit\" className=\"w-full\" disabled={pending} data-testid={isEditing ? \"btn-save-changes\" : \"btn-submit-dog\"}>\n      {pending ? (isEditing ? \"Updating...\" : \"Creating...\") : (isEditing ? \"Update Dog\" : \"Create Dog\")}\n    </Button>\n  );\n}\n\n\ntype FormState = {\n  success: boolean;\n  message: string | null;\n  fieldErrors?: Record<string, string[]>;\n};\n\ninterface DogFormProps {\n  dog?: Dog;\n  potentialFosters: FosterProfile[];\n  formAction: (formData: FormData) => void;\n  state?: FormState;\n}\n\nexport default function DogForm({\n  dog,\n  potentialFosters = [],\n  formAction,\n  state = { success: false, message: null, fieldErrors: undefined }\n}: DogFormProps) {\n  const {\n    selectedFile,\n    previewUrl,\n    isDragOver,\n    fileInputRef,\n    handleDragOver,\n    handleDragLeave,\n    clearFile,\n    handleFileInputChange,\n    handleDrop,\n  } = useDogPhotoUpload({ dog });\n\n\n\n  return (\n    <form action={formAction} className=\"flex flex-col gap-4\">\n      <DogFormPhotoUpload\n        dog={dog}\n        selectedFile={selectedFile}\n        previewUrl={previewUrl}\n        isDragOver={isDragOver}\n        fileInputRef={fileInputRef}\n        handleDragOver={handleDragOver}\n        handleDragLeave={handleDragLeave}\n        handleDrop={handleDrop}\n        handleFileInputChange={handleFileInputChange}\n        clearFile={clearFile}\n      />\n\n      <DogCoreFields dog={dog} state={state} />\n\n      <DogFosterAssignmentFields\n        dog={dog}\n        potentialFosters={potentialFosters}\n        state={state}\n      />\n\n      <DogPublicFields dog={dog} state={state} />\n\n      <DogInternalFields dog={dog} state={state} />\n\n      <SubmitButton isEditing={!!dog} />\n      {state.message && (\n        <p className={`text-sm mt-2 ${state.success ? 'text-green-500' : 'text-red-500'}`}>\n          {state.message}\n        </p>\n      )}\n    </form>\n  );\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;AAI/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAcA,SAAS,aAAa,EAAE,SAAS,EAA0B;IACzD,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,6NAAa;IACjC,qBACE,8OAAC,qIAAM;QAAC,MAAK;QAAS,WAAU;QAAS,UAAU;QAAS,eAAa,YAAY,qBAAqB;kBACvG,UAAW,YAAY,gBAAgB,gBAAkB,YAAY,eAAe;;;;;;AAG3F;AAgBe,SAAS,QAAQ,EAC9B,GAAG,EACH,mBAAmB,EAAE,EACrB,UAAU,EACV,QAAQ;IAAE,SAAS;IAAO,SAAS;IAAM,aAAa;AAAU,CAAC,EACpD;IACb,MAAM,EACJ,YAAY,EACZ,UAAU,EACV,UAAU,EACV,YAAY,EACZ,cAAc,EACd,eAAe,EACf,SAAS,EACT,qBAAqB,EACrB,UAAU,EACX,GAAG,IAAA,+IAAiB,EAAC;QAAE;IAAI;IAI5B,qBACE,8OAAC;QAAK,QAAQ;QAAY,WAAU;;0BAClC,8OAAC,gKAAkB;gBACjB,KAAK;gBACL,cAAc;gBACd,YAAY;gBACZ,YAAY;gBACZ,cAAc;gBACd,gBAAgB;gBAChB,iBAAiB;gBACjB,YAAY;gBACZ,uBAAuB;gBACvB,WAAW;;;;;;0BAGb,8OAAC,sJAAa;gBAAC,KAAK;gBAAK,OAAO;;;;;;0BAEhC,8OAAC,8KAAyB;gBACxB,KAAK;gBACL,kBAAkB;gBAClB,OAAO;;;;;;0BAGT,8OAAC,0JAAe;gBAAC,KAAK;gBAAK,OAAO;;;;;;0BAElC,8OAAC,8JAAiB;gBAAC,KAAK;gBAAK,OAAO;;;;;;0BAEpC,8OAAC;gBAAa,WAAW,CAAC,CAAC;;;;;;YAC1B,MAAM,OAAO,kBACZ,8OAAC;gBAAE,WAAW,CAAC,aAAa,EAAE,MAAM,OAAO,GAAG,mBAAmB,gBAAgB;0BAC9E,MAAM,OAAO;;;;;;;;;;;;AAKxB","debugId":null}},
    {"offset": {"line": 1898, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/actions/dog.actions.ts"],"sourcesContent":["// lib/actions/dog.actions.ts\n\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { redirect } from \"next/navigation\";\nimport { prisma } from \"@/lib/prisma\";\nimport { Dog, DogStatus, Gender, DogSize, Prisma, AuditAction } from \"@prisma/client\";\nimport { createClient } from \"@/lib/supabase/server\";\nimport { assertRole } from \"@/lib/actions/profile.actions\";\nimport { UserRole } from \"@prisma/client\";\nimport { ActionResult } from \"@/lib/types\";\nimport { calculateAge } from \"@/lib/utils/dog-utils\";\nimport { dogFormSchema } from \"@/lib/schemas\";\nimport { z } from \"zod\";\nimport { withAudit, getCurrentUserId, captureAuditState } from \"./audit.actions\";\nimport { getMedicalRecords, getMedicalDocuments } from \"./medical.actions\";\nimport { FOSTER_FILTER_VALUES } from \"@/lib/dog-filters\";\n\nconst deleteDogSchema = z.object({\n  dogId: z.coerce.number().int().positive({ message: \"Invalid dog ID\" }),\n  reason: z.string().min(10, { message: \"Reason must be at least 10 characters long\" }).max(1000, { message: \"Reason must be less than 1000 characters\" }),\n});\n\nconst uploadImageSchema = z.object({\n  dogId: z.coerce.number().int().positive({ message: \"Invalid dog ID\" }),\n  // File validation will be handled separately after dogId validation\n});\n\nconst getAllDogsSchema = z.object({\n  page: z.coerce.number().int().min(1).optional().default(1),\n  limit: z.coerce.number().int().min(1).max(100).optional().default(10),\n  status: z.enum([\"all\", ...Object.values(DogStatus)]).optional().default(\"all\"),\n  fosterProfileId: z.enum([FOSTER_FILTER_VALUES.ALL, FOSTER_FILTER_VALUES.NONE]).or(z.string()).optional().default(FOSTER_FILTER_VALUES.ALL), // Profile ID (string) or \"none\"\n  breed: z.string().optional().default(\"all\"),\n  gender: z.enum([\"all\", ...Object.values(Gender)]).optional().default(\"all\"),\n  size: z.enum([\"all\", ...Object.values(DogSize)]).optional().default(\"all\"),\n  weightMin: z.string().regex(/^\\d*$/, { message: \"Weight must be a number\" }).optional(),\n  weightMax: z.string().regex(/^\\d*$/, { message: \"Weight must be a number\" }).optional(),\n  specialNeeds: z.string().optional().default(\"all\"),\n  hasPhotos: z.string().optional().default(\"all\"),\n  sortField: z.enum([\"name\", \"status\", \"breed\"]).optional().default(\"name\"),\n  sortDirection: z.enum([\"asc\", \"desc\"]).optional().default(\"asc\"),\n});\n\n// Shared photo upload function\nasync function uploadDogPhoto(file: File): Promise<string> {\n  const supabase = await createClient();\n  const timestamp = Date.now();\n  const sanitizedFileName = file.name.replace(/\\s+/g, \"-\");\n  const storagePath = `dog-${timestamp}-${sanitizedFileName}`;\n\n  const { error: uploadError } = await supabase.storage\n    .from(\"dog-photos\")\n    .upload(storagePath, file, {\n      upsert: false,\n    });\n\n  if (uploadError) {\n    throw new Error(`Storage Error: ${uploadError.message}`);\n  }\n\n  const { data: urlData } = supabase.storage\n    .from(\"dog-photos\")\n    .getPublicUrl(storagePath);\n\n  const publicUrl = urlData.publicUrl;\n  if (!publicUrl) {\n    throw new Error(\"Unable to generate public URL for uploaded photo\");\n  }\n\n  return publicUrl;\n}\n\nexport async function createDog(formData: FormData): Promise<ActionResult<Dog> | never> {\n  try {\n    await assertRole(UserRole.STAFF);\n\n    const parsed = dogFormSchema.safeParse(Object.fromEntries(formData.entries()));\n    if (!parsed.success) {\n      const fieldErrors = parsed.error.flatten().fieldErrors;\n      return {\n        success: false,\n        message: \"Validation failed.\",\n        fieldErrors,\n        data: null,\n      };\n    }\n\n    const {\n      name,\n      status,\n      breed,\n      dateOfBirth,\n      bioPublic,\n      notesInternal,\n      fosterProfileId,\n      specialNeeds,\n    } = parsed.data;\n\n    const finalStatus = status ?? DogStatus.INTAKE;\n\n    // Handle primary photo upload if provided\n    let primaryPhotoUrl = \"https://picsum.photos/300/200?random=1\"; // Default placeholder\n    const file = formData.get(\"file\");\n\n    if (file instanceof File && file.size > 0) {\n      try {\n        primaryPhotoUrl = await uploadDogPhoto(file);\n      } catch (error) {\n        // For now, we'll continue with the default placeholder if upload fails\n        // In production, you might want to return an error instead\n        console.error(\"Failed to upload dog photo:\", error);\n      }\n    }\n\n    await prisma.dog.create({\n      data: {\n        name,\n        status: finalStatus,\n        breed,\n        dateOfBirth,\n        bioPublic,\n        notesInternal,\n        specialNeeds,\n        fosterProfileId: finalStatus === DogStatus.IN_FOSTER ? fosterProfileId : null,\n        primaryPhotoUrl,\n      },\n    });\n\n    revalidatePath(\"/admin/dogs\");\n    revalidatePath(\"/adopt\");\n    redirect(\"/admin/dogs\");\n  } catch (error) {\n    return {\n      success: false,\n      message: error instanceof Error ? error.message : \"An unexpected error occurred.\",\n      fieldErrors: undefined,\n      data: null,\n    };\n  }\n}\n\nexport async function updateDog(dogId: number, formData: FormData): Promise<ActionResult> {\n  try {\n    await assertRole(UserRole.STAFF);\n    const userId = await getCurrentUserId();\n\n    const file = formData.get('file') as File | null;\n    let newPhotoUrl: string | undefined = undefined;\n\n    if (file && file.size > 0) {\n      try {\n        newPhotoUrl = await uploadDogPhoto(file);\n      } catch (error) {\n        return {\n          success: false,\n          message: error instanceof Error ? error.message : \"Failed to upload photo\",\n          fieldErrors: undefined,\n          data: null,\n        };\n      }\n    }\n\n    const parsed = dogFormSchema.safeParse(Object.fromEntries(formData.entries()));\n    if (!parsed.success) {\n      const fieldErrors = parsed.error.flatten().fieldErrors;\n      return {\n        success: false,\n        message: \"Validation failed.\",\n        fieldErrors,\n        data: null,\n      };\n    }\n\n    const {\n      name,\n      status,\n      breed,\n      dateOfBirth,\n      bioPublic,\n      notesInternal,\n      fosterProfileId,\n      specialNeeds,\n    } = parsed.data;\n\n    const finalStatus = status ?? DogStatus.INTAKE;\n\n    // Capture before state for audit\n    const beforeState = await captureAuditState('dog', dogId);\n\n    const updateData: {\n      name: string;\n      status: DogStatus;\n      breed: string | null;\n      dateOfBirth: Date | null;\n      bioPublic: string | null;\n      notesInternal: string | null;\n      specialNeeds: boolean;\n      fosterProfileId: string | null;\n      primaryPhotoUrl?: string;\n    } = {\n      name,\n      status: finalStatus,\n      breed,\n      dateOfBirth,\n      bioPublic,\n      notesInternal,\n      specialNeeds,\n      fosterProfileId: finalStatus === DogStatus.IN_FOSTER ? fosterProfileId : null,\n    };\n\n    if (newPhotoUrl) {\n      updateData.primaryPhotoUrl = newPhotoUrl;\n    }\n\n    await withAudit(\n      \"updateDog\",\n      userId,\n      async () => {\n        const updatedDog = await prisma.dog.update({\n          where: { id: dogId },\n          data: updateData,\n        });\n\n        revalidatePath(\"/admin\");\n        revalidatePath(`/admin/edit-dog/${dogId}`);\n        revalidatePath(\"/adopt\");\n        revalidatePath(`/adopt/${dogId}`);\n\n        return updatedDog;\n      },\n      {\n        action: AuditAction.DOG_EDIT,\n        entityType: 'dog',\n        entityId: dogId,\n        before: beforeState || undefined,\n        after: beforeState ? { ...beforeState, ...updateData } : undefined,\n        note: `Updated dog: ${name}`,\n      }\n    );\n\n    return {\n      success: true,\n      message: \"Dog updated successfully!\",\n      fieldErrors: undefined,\n      data: null,\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: error instanceof Error ? error.message : \"An unexpected error occurred.\",\n      fieldErrors: undefined,\n      data: null,\n    };\n  }\n}\n\nexport async function uploadAndSetDogImage(prevState: { message: string | null; newImageUrl: string | null }, formData: FormData) {\n  try {\n    await assertRole(UserRole.STAFF);\n  } catch (error) {\n    return { message: error instanceof Error ? error.message : \"Not authorized\", newImageUrl: null };\n  }\n\n  const parsed = uploadImageSchema.safeParse(Object.fromEntries(formData.entries()));\n  if (!parsed.success) {\n    return { message: parsed.error.issues.map(issue => `${issue.path.join('.')}: ${issue.message}`).join(', '), newImageUrl: null };\n  }\n\n  const { dogId } = parsed.data;\n  const file = formData.get(\"file\") as File;\n  if (!file || file.size === 0) {\n    return { message: \"No file provided.\", newImageUrl: null };\n  }\n\n  const supabase = await createClient();\n  const filePath = `dogs/${dogId}-${file.name}-${Date.now()}`;\n\n  try {\n    const { error: uploadError } = await supabase.storage\n      .from(\"images\") // BUCKET NAME - YOU MUST CREATE THIS IN SUPABASE\n      .upload(filePath, file);\n\n    if (uploadError) {\n      throw new Error(`Storage Error: ${uploadError.message}`);\n    }\n\n    const { data: { publicUrl } } = supabase.storage\n      .from(\"images\")\n      .getPublicUrl(filePath);\n\n    if (!publicUrl) {\n      throw new Error(\"Could not get public URL.\");\n    }\n\n    await prisma.dog.update({\n      where: { id: dogId },\n      data: { primaryPhotoUrl: publicUrl },\n    });\n\n    revalidatePath(\"/admin\");\n    revalidatePath(`/admin/edit-dog/${dogId}`);\n    revalidatePath(\"/adopt\");\n    revalidatePath(`/adopt/${dogId}`);\n\n    return { message: null, newImageUrl: publicUrl };\n\n  } catch (error) {\n    console.error(\"Upload failed:\", error);\n    return { message: error instanceof Error ? error.message : \"Upload failed.\", newImageUrl: null };\n  }\n}\n\nexport async function deleteDog(dogId: number, reason: string): Promise<ActionResult> {\n  try {\n    await assertRole(UserRole.STAFF);\n    const userId = await getCurrentUserId();\n\n    const parsed = deleteDogSchema.safeParse({ dogId, reason });\n    if (!parsed.success) {\n      const fieldErrors = parsed.error.flatten().fieldErrors;\n      return {\n        success: false,\n        message: \"Validation failed.\",\n        fieldErrors,\n        data: null,\n      };\n    }\n\n    // Capture before state for audit\n    const beforeState = await captureAuditState('dog', parsed.data.dogId);\n\n    await withAudit(\n      \"deleteDog\",\n      userId,\n      async () => {\n        await prisma.dog.delete({ where: { id: parsed.data.dogId } });\n        revalidatePath(\"/admin/dogs\");\n        revalidatePath(\"/adopt\");\n        return null;\n      },\n      {\n        action: AuditAction.DOG_EDIT,\n        entityType: 'dog',\n        entityId: parsed.data.dogId,\n        before: beforeState || undefined,\n        after: undefined,\n        note: `Deleted dog. Reason: ${parsed.data.reason}`,\n      }\n    );\n\n    return {\n      success: true,\n      message: \"Dog deleted successfully! Redirecting...\",\n      fieldErrors: undefined,\n      data: null,\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: error instanceof Error ? error.message : \"An unexpected error occurred.\",\n      fieldErrors: undefined,\n      data: null,\n    };\n  }\n}\n\nexport async function getDogById(id: number) {\n  const parsed = z.object({ id: z.coerce.number().int().positive() }).safeParse({ id });\n  if (!parsed.success) {\n    throw new Error(\"Invalid dog ID\");\n  }\n\n  const dog = await prisma.dog.findUnique({\n    where: { id },\n    include: {\n      fosterProfile: {\n        select: {\n          profileId: true,\n          profile: {\n            select: {\n              name: true,\n              email: true,\n            },\n          },\n        },\n      },\n    },\n  });\n\n  if (!dog) {\n    throw new Error(\"Dog not found\");\n  }\n\n  // Compute derived values on the fly\n  const isSenior = calculateAge(dog.dateOfBirth) ? calculateAge(dog.dateOfBirth)! >= 8 : false;\n  const hasPhotos = dog.primaryPhotoUrl ? !dog.primaryPhotoUrl.includes('placeholder') : false;\n\n  return {\n    ...dog,\n    isSenior, // Runtime property\n    hasPhotos, // Runtime property\n  };\n}\n\nexport async function getAllDogs(searchParams?: { [key: string]: string | undefined }) {\n  await assertRole(UserRole.STAFF);\n\n  const parsed = getAllDogsSchema.safeParse(searchParams || {});\n  if (!parsed.success) {\n    throw new Error(\"Invalid search parameters\");\n  }\n\n  const { page, limit } = parsed.data;\n  const offset = (page - 1) * limit;\n\n  // Build where clause for filtering\n  const where: Prisma.DogWhereInput = {};\n\n  if (parsed.data.status && parsed.data.status !== \"all\") {\n    where.status = parsed.data.status;\n  }\n\n  if (parsed.data.fosterProfileId && parsed.data.fosterProfileId !== FOSTER_FILTER_VALUES.ALL) {\n    if (parsed.data.fosterProfileId === FOSTER_FILTER_VALUES.NONE) {\n      // Filter for dogs with no foster assigned\n      where.fosterProfileId = null;\n    } else {\n      // Filter for specific foster\n      where.fosterProfileId = parsed.data.fosterProfileId;\n    }\n  }\n\n  if (parsed.data.breed && parsed.data.breed !== \"all\" && parsed.data.breed !== \"\") {\n    where.breed = {\n      contains: parsed.data.breed,\n      mode: 'insensitive' as const,\n    };\n  }\n\n  if (parsed.data.gender && parsed.data.gender !== \"all\") {\n    where.gender = parsed.data.gender;\n  }\n\n  if (parsed.data.size && parsed.data.size !== \"all\") {\n    where.size = parsed.data.size;\n  }\n\n  if (parsed.data.weightMin && parsed.data.weightMin !== \"\") {\n    const weightMin = parseInt(parsed.data.weightMin, 10);\n    if (!Number.isNaN(weightMin)) {\n      where.weight_lbs = { gte: weightMin };\n    }\n  }\n\n  if (parsed.data.weightMax && parsed.data.weightMax !== \"\") {\n    const weightMax = parseInt(parsed.data.weightMax, 10);\n    if (!Number.isNaN(weightMax)) {\n      where.weight_lbs = where.weight_lbs ? { ...(where.weight_lbs as object), lte: weightMax } : { lte: weightMax };\n    }\n  }\n\n\n  if (parsed.data.specialNeeds && parsed.data.specialNeeds !== \"all\") {\n    where.specialNeeds = parsed.data.specialNeeds === \"true\";\n  }\n\n  if (parsed.data.hasPhotos && parsed.data.hasPhotos !== \"all\") {\n    if (parsed.data.hasPhotos === \"true\") {\n      where.primaryPhotoUrl = { not: null };\n    } else {\n      where.primaryPhotoUrl = null;\n    }\n  }\n\n  // Build orderBy clause for sorting\n  const orderBy: Prisma.DogOrderByWithRelationInput = {};\n  const sortField = parsed.data.sortField;\n  const sortDirection = parsed.data.sortDirection;\n\n  switch (sortField) {\n    case \"name\":\n      orderBy.name = sortDirection;\n      break;\n    case \"status\":\n      orderBy.status = sortDirection;\n      break;\n    case \"breed\":\n      orderBy.breed = sortDirection;\n      break;\n    default:\n      orderBy.name = \"asc\";\n  }\n\n  const [dogs, totalCount] = await Promise.all([\n    prisma.dog.findMany({\n      where,\n      orderBy,\n      skip: offset,\n      take: limit,\n      select: {\n        id: true,\n        mutt_id: true,\n        name: true,\n        breed: true,\n        dateOfBirth: true,\n        status: true,\n        primaryPhotoUrl: true,\n        gender: true,\n        weight_lbs: true,\n        size: true,\n        specialNeeds: true,\n        bioPublic: true,\n        createdAt: true,\n        fosterProfile: {\n          select: {\n            profile: {\n              select: {\n                name: true,\n                email: true,\n              },\n            },\n          },\n        },\n      },\n    }),\n    prisma.dog.count({ where }),\n  ]);\n\n  const totalPages = Math.ceil(totalCount / limit);\n\n  // Flatten foster profile data and compute derived fields\n  const dogsWithFlattenedFoster = dogs.map(dog => ({\n    ...dog,\n    fosterProfile: dog.fosterProfile ? {\n      ...dog.fosterProfile,\n      name: dog.fosterProfile.profile?.name,\n      email: dog.fosterProfile.profile?.email,\n    } : null,\n    // Compute derived values on the fly\n    isSenior: calculateAge(dog.dateOfBirth) ? calculateAge(dog.dateOfBirth)! >= 8 : false,\n    hasPhotos: dog.primaryPhotoUrl ? !dog.primaryPhotoUrl.includes('placeholder') : false,\n  }));\n\n  return {\n    dogs: dogsWithFlattenedFoster,\n    pagination: {\n      currentPage: page,\n      totalPages,\n      totalCount,\n      hasNextPage: page < totalPages,\n      hasPreviousPage: page > 1,\n    },\n  };\n}\n\nexport type DogFilters = {\n  breed?: string;\n  specialNeeds?: string;\n  size?: string;\n  gender?: string;\n  hasPhotos?: string;\n};\n\nconst coerceBoolean = (value?: string) => {\n  if (value === undefined) return undefined;\n  if (value === \"true\") return true;\n  if (value === \"false\") return false;\n  return undefined;\n};\n\nexport async function getDogs({ page = 1, pageSize = 12 }: { page?: number; pageSize?: number } = {}) {\n  const take = pageSize;\n  const skip = (Math.max(1, page) - 1) * take;\n\n  const where: Prisma.DogWhereInput = {\n    status: DogStatus.AVAILABLE,\n  };\n\n  const [dogs, total] = await Promise.all([\n    prisma.dog.findMany({\n      where,\n      orderBy: [\n        { primaryPhotoUrl: 'desc' }, // Photos first\n        { createdAt: 'desc' }, // Then by recency\n      ],\n      take,\n      skip,\n      select: {\n        id: true,\n        name: true,\n        breed: true,\n        dateOfBirth: true,\n        bioPublic: true,\n        specialNeeds: true,\n        primaryPhotoUrl: true,\n        gender: true,\n        weight_lbs: true,\n        size: true,\n        mutt_id: true,\n        status: true,\n        createdAt: true,\n      },\n    }),\n    prisma.dog.count({ where }),\n  ]);\n\n  // Compute derived values on the fly\n  const dogsWithDerived = dogs.map(dog => ({\n    ...dog,\n    isSenior: calculateAge(dog.dateOfBirth) ? calculateAge(dog.dateOfBirth)! >= 8 : false,\n    hasPhotos: dog.primaryPhotoUrl ? !dog.primaryPhotoUrl.includes('placeholder') : false,\n  }));\n\n  return { dogs: dogsWithDerived, total };\n}\n\nexport async function getAvailableDogs({ page = 1, filters = {} }: { page?: number; filters?: DogFilters } = {}) {\n  const take = 12;\n  const skip = (Math.max(1, page) - 1) * take;\n\n  const where: Prisma.DogWhereInput = {\n    status: DogStatus.AVAILABLE,\n  };\n\n  if (filters.breed) {\n    where.breed = {\n      contains: filters.breed,\n      mode: \"insensitive\",\n    };\n  }\n\n  if (filters.size) {\n    where.size = filters.size as DogSize;\n  }\n\n  if (filters.gender) {\n    where.gender = filters.gender as Gender;\n  }\n\n\n  const specialNeedsFilter = coerceBoolean(filters.specialNeeds);\n  if (specialNeedsFilter !== undefined) {\n    where.specialNeeds = specialNeedsFilter;\n  }\n\n\n  const [dogs, totalCount] = await Promise.all([\n    prisma.dog.findMany({\n      where,\n      orderBy: [\n        { primaryPhotoUrl: 'desc' }, // Photos first\n        { createdAt: 'desc' }, // Then by recency\n      ],\n      take,\n      skip,\n      select: {\n        id: true,\n        name: true,\n        breed: true,\n        dateOfBirth: true,\n        bioPublic: true,\n        specialNeeds: true,\n        primaryPhotoUrl: true,\n        gender: true,\n        weight_lbs: true,\n        size: true,\n        mutt_id: true,\n        status: true,\n        createdAt: true,\n      },\n    }),\n    prisma.dog.count({ where }),\n  ]);\n\n  // Compute derived values on the fly\n  const dogsWithDerived = dogs.map(dog => ({\n    ...dog,\n    isSenior: calculateAge(dog.dateOfBirth) ? calculateAge(dog.dateOfBirth)! >= 8 : false,\n    hasPhotos: dog.primaryPhotoUrl ? !dog.primaryPhotoUrl.includes('placeholder') : false,\n  }));\n\n  const totalPages = Math.ceil(totalCount / take);\n\n  return {\n    dogs: dogsWithDerived,\n    pagination: {\n      page,\n      limit: take,\n      totalCount,\n      totalPages,\n      hasNextPage: page < totalPages,\n      hasPrevPage: page > 1,\n    },\n  };\n}\n\nexport async function getShelterDogs() {\n  const dogs = await prisma.dog.findMany({\n    where: {\n      status: {\n        not: \"ADOPTED\",\n      },\n    },\n    orderBy: {\n      createdAt: \"desc\",\n    },\n    select: {\n      id: true,\n      name: true,\n      breed: true,\n      dateOfBirth: true,\n      status: true,\n      primaryPhotoUrl: true,\n      createdAt: true,\n    },\n  });\n\n  // Compute derived values on the fly\n  return dogs.map(dog => ({\n    ...dog,\n    isSenior: calculateAge(dog.dateOfBirth) ? calculateAge(dog.dateOfBirth)! >= 8 : false,\n    hasPhotos: dog.primaryPhotoUrl ? !dog.primaryPhotoUrl.includes('placeholder') : false,\n  }));\n}\n\nexport async function getPotentialFosters() {\n  const fosterProfiles = await prisma.fosterProfile.findMany({\n    select: {\n      profileId: true,\n      profile: {\n        select: {\n          name: true,\n          email: true,\n        }\n      }\n    },\n    orderBy: [\n      {\n        profile: {\n          name: \"asc\",\n        },\n      },\n      {\n        profile: {\n          email: \"asc\",\n        },\n      },\n    ],\n  });\n\n  return fosterProfiles\n    .filter((fp) => fp.profile)\n    .map((fp) => ({\n      id: fp.profileId,\n      name: fp.profile?.name ?? null,\n      email: fp.profile?.email ?? \"\",\n    }));\n}\n\nexport async function getUniqueBreeds() {\n  const breeds = await prisma.dog.findMany({\n    where: { breed: { not: null } },\n    select: { breed: true },\n    distinct: ['breed'],\n    orderBy: { breed: 'asc' },\n  });\n  return [...new Set(breeds.map((b) => b.breed!).filter(Boolean))];\n}\n\nexport async function getUniqueStatuses() {\n  const statuses = await prisma.dog.findMany({\n    select: { status: true },\n    distinct: ['status'],\n  });\n  return [...new Set(statuses.map((s) => s.status))];\n}\n\nexport async function getUniqueGenders() {\n  const genders = await prisma.dog.findMany({\n    select: {\n      gender: true,\n    },\n    distinct: [\"gender\"],\n    orderBy: {\n      gender: \"asc\",\n    },\n  });\n\n  return genders\n    .map((entry) => entry.gender)\n    .filter((gender): gender is Gender => gender !== null);\n}\n\nexport async function getUniqueSizes() {\n  const sizes = await prisma.dog.findMany({\n    select: {\n      size: true,\n    },\n    distinct: [\"size\"],\n    orderBy: {\n      size: \"asc\",\n    },\n  });\n\n  return sizes\n    .map((entry) => entry.size)\n    .filter((size): size is DogSize => size !== null);\n}\n\nexport async function getRelatedDogs(dogId: number, limit = 4) {\n  // First get the current dog's size and dateOfBirth\n  const currentDog = await prisma.dog.findUnique({\n    where: { id: dogId },\n    select: { size: true, dateOfBirth: true },\n  });\n\n  if (!currentDog) {\n    return [];\n  }\n\n  // Calculate current dog's age\n  const currentAge = currentDog.dateOfBirth ? calculateAge(currentDog.dateOfBirth) : null;\n\n  // Get dogs with same size and similar age (¬±2 years), excluding current dog\n  // Convert age range to date range: if current dog is X years old, find dogs born within ¬±2 years of that age\n  const now = new Date();\n  const ageMin = Math.max(0, (currentAge || 0) - 2);\n  const ageMax = (currentAge || 0) + 2;\n\n  // Convert age range to date range (older dogs have earlier birth dates)\n  const dateMax = new Date(now.getTime() - ageMin * 365 * 24 * 60 * 60 * 1000);\n  const dateMin = new Date(now.getTime() - ageMax * 365 * 24 * 60 * 60 * 1000);\n\n  const dogs = await prisma.dog.findMany({\n    where: {\n      AND: [\n        { id: { not: dogId } },\n        { status: DogStatus.AVAILABLE },\n        { size: currentDog.size },\n        {\n          dateOfBirth: {\n            gte: dateMin,\n            lte: dateMax,\n          },\n        },\n      ],\n    },\n    orderBy: [\n      { primaryPhotoUrl: 'desc' }, // Photos first\n      { createdAt: 'desc' }, // Then by recency\n    ],\n    take: limit,\n    select: {\n      id: true,\n      name: true,\n      breed: true,\n      dateOfBirth: true,\n      bioPublic: true,\n      specialNeeds: true,\n      primaryPhotoUrl: true,\n      gender: true,\n      size: true,\n      status: true,\n      createdAt: true,\n    },\n  });\n\n  // Compute derived values on the fly\n  return dogs.map(dog => ({\n    ...dog,\n    isSenior: calculateAge(dog.dateOfBirth) ? calculateAge(dog.dateOfBirth)! >= 8 : false,\n    hasPhotos: dog.primaryPhotoUrl ? !dog.primaryPhotoUrl.includes('placeholder') : false,\n  }));\n}\n\nexport async function getAdoptedDogs() {\n  const dogs = await prisma.dog.findMany({\n    where: {\n      status: DogStatus.ADOPTED,\n    },\n    orderBy: {\n      updatedAt: \"desc\",\n    },\n    select: {\n      id: true,\n      name: true,\n      breed: true,\n      dateOfBirth: true,\n      bioPublic: true,\n      specialNeeds: true,\n      primaryPhotoUrl: true,\n      status: true,\n      createdAt: true,\n      updatedAt: true,\n    },\n  });\n\n  // Compute derived values on the fly\n  return dogs.map(dog => ({\n    ...dog,\n    isSenior: calculateAge(dog.dateOfBirth) ? calculateAge(dog.dateOfBirth)! >= 8 : false,\n    hasPhotos: dog.primaryPhotoUrl ? !dog.primaryPhotoUrl.includes('placeholder') : false,\n  }));\n}\n\n/**\n * Canonical function for fetching a dog with all its medical context.\n * Returns a consistent shape for both dog detail pages and medical-specific pages.\n */\nexport async function getDogMedicalBundle(dogId: number, page: number = 1) {\n  await assertRole(UserRole.STAFF);\n\n  const parsed = z.object({\n    dogId: z.coerce.number().int().positive(),\n    page: z.coerce.number().int().min(1)\n  }).safeParse({ dogId, page });\n  if (!parsed.success) {\n    throw new Error(\"Invalid dog ID\");\n  }\n\n  const [dogDetails, medicalRecords, medicalDocuments] = await Promise.all([\n    prisma.dog.findUnique({\n      where: { id: dogId },\n      include: {\n        fosterProfile: {\n          include: {\n            profile: true,\n          },\n        },\n      },\n    }),\n    getMedicalRecords(dogId, page),\n    getMedicalDocuments(dogId),\n  ]);\n\n  if (!dogDetails) {\n    throw new Error(\"Dog not found\");\n  }\n\n  // Compute derived values on the fly\n  const isSenior = calculateAge(dogDetails.dateOfBirth) ? calculateAge(dogDetails.dateOfBirth)! >= 8 : false;\n  const hasPhotos = dogDetails.primaryPhotoUrl ? !dogDetails.primaryPhotoUrl.includes('placeholder') : false;\n\n  return {\n    dog: {\n      ...dogDetails,\n      isSenior, // Runtime property\n      hasPhotos, // Runtime property\n    },\n    medicalRecords,\n    medicalDocuments,\n  };\n}\n\n/**\n * @deprecated Use getDogMedicalBundle instead for consistent medical data fetching\n * Fetches a single dog and its related data for the admin detail page.\n */\nexport async function getDogDetailsById(dogId: number) {\n  const bundle = await getDogMedicalBundle(dogId, 1);\n  return { dog: bundle.dog, medicalRecords: bundle.medicalRecords };\n}\n"],"names":[],"mappings":";;;;;;;IAyEsB,YAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 1910, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/types.ts"],"sourcesContent":["// lib/types.ts\n\n/**\n * Result type for server actions - follows Railway-oriented programming pattern\n */\nexport type Result<T, E = Error> = { success: true; data: T } | { success: false; error: E };\n\n/**\n * Canonical action result type for server actions\n */\nexport type ActionResult<T = null> = {\n  data: T | null;\n  success: boolean;\n  message: string | null;\n  fieldErrors?: Record<string, string[]>;\n};\n\n/**\n * Helper constructor for successful ActionResult\n */\nexport function ok<T = null>(data: T, message: string | null = null): ActionResult<T> {\n  return {\n    success: true,\n    message,\n    data,\n    fieldErrors: undefined,\n  };\n}\n\n/**\n * Helper constructor for failed ActionResult\n */\nexport function fail<T = null>(message: string, fieldErrors?: Record<string, string[]>): ActionResult<T> {\n  return {\n    success: false,\n    message,\n    data: null,\n    fieldErrors,\n  } as ActionResult<T>;\n}\n\n/**\n * Helper constructor for ActionResult with default values\n */\nexport function makeActionResult<T>(overrides?: Partial<ActionResult<T>>): ActionResult<T> {\n  return {\n    success: false,\n    message: null,\n    data: null,\n    fieldErrors: undefined,\n    ...overrides,\n  };\n}\n\n/**\n * Canonical dog list item for admin tables and listings\n */\nexport interface DogListItem {\n  id: number;\n  mutt_id: string | null;\n  name: string;\n  breed: string | null;\n  dateOfBirth: Date | null;\n  gender: import(\"@prisma/client\").Gender | null;\n  size: import(\"@prisma/client\").DogSize | null;\n  weight_lbs: number | null;\n  primaryPhotoUrl: string | null;\n  specialNeeds: boolean;\n  bioPublic: string | null;\n  status: import(\"@prisma/client\").DogStatus;\n  fosterProfile?: {\n    name: string | null;\n    email: string;\n  } | null;\n}\n\n/**\n * Public dog list item for adopt page with derived fields\n */\nexport interface PublicDogListItem extends Omit<DogListItem, 'gender' | 'mutt_id'> {\n  gender: import(\"@prisma/client\").Gender;\n  mutt_id: string | null;\n  isSenior: boolean;\n  hasPhotos: boolean;\n}\n\n/**\n * Canonical pagination metadata\n */\nexport interface PaginationMeta {\n  currentPage: number;\n  totalPages: number;\n  totalCount: number;\n  hasNextPage: boolean;\n  hasPreviousPage: boolean;\n}\n"],"names":[],"mappings":"AAAA,eAAe;AAEf;;CAEC;;;;;;;;AAgBM,SAAS,GAAa,IAAO,EAAE,UAAyB,IAAI;IACjE,OAAO;QACL,SAAS;QACT;QACA;QACA,aAAa;IACf;AACF;AAKO,SAAS,KAAe,OAAe,EAAE,WAAsC;IACpF,OAAO;QACL,SAAS;QACT;QACA,MAAM;QACN;IACF;AACF;AAKO,SAAS,iBAAoB,SAAoC;IACtE,OAAO;QACL,SAAS;QACT,SAAS;QACT,MAAM;QACN,aAAa;QACb,GAAG,SAAS;IACd;AACF","debugId":null}},
    {"offset": {"line": 1950, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/toast.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { X } from \"lucide-react\";\nimport { Button } from \"./button\";\n\ntype ToastType = \"success\" | \"error\";\n\ninterface ToastProps {\n  message: string;\n  type: ToastType;\n  onClose: () => void;\n}\n\nfunction Toast({ message, type, onClose }: ToastProps) {\n  useEffect(() => {\n    const timer = setTimeout(onClose, 5000); // Auto close after 5 seconds\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  return (\n    <div\n      data-testid={type === \"success\" ? \"toast-success\" : \"toast-error\"}\n      role=\"status\"\n      aria-live=\"polite\"\n      className={`fixed top-4 right-4 z-50 flex items-center gap-2 px-4 py-2 rounded-md shadow-lg ${\n        type === \"success\"\n          ? \"bg-green-500 text-white\"\n          : \"bg-red-500 text-white\"\n      }`}\n    >\n      <span className=\"flex-1\">{message}</span>\n      <Button\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={onClose}\n        className=\"h-auto p-1 hover:bg-white/20\"\n      >\n        <X className=\"h-4 w-4\" />\n      </Button>\n    </div>\n  );\n}\n\nexport function useToast() {\n  const [toast, setToast] = useState<{\n    message: string;\n    type: ToastType;\n  } | null>(null);\n\n  const showToast = (message: string, type: ToastType) => {\n    setToast({ message, type });\n  };\n\n  const hideToast = () => {\n    setToast(null);\n  };\n\n  const ToastComponent = () =>\n    toast ? (\n      <Toast\n        message={toast.message}\n        type={toast.type}\n        onClose={hideToast}\n      />\n    ) : null;\n\n  return { showToast, ToastComponent };\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAUA,SAAS,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAc;IACnD,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,WAAW,SAAS,OAAO,6BAA6B;QACtE,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAQ;IAEZ,qBACE,8OAAC;QACC,eAAa,SAAS,YAAY,kBAAkB;QACpD,MAAK;QACL,aAAU;QACV,WAAW,CAAC,gFAAgF,EAC1F,SAAS,YACL,4BACA,yBACJ;;0BAEF,8OAAC;gBAAK,WAAU;0BAAU;;;;;;0BAC1B,8OAAC,qIAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS;gBACT,WAAU;0BAEV,cAAA,8OAAC,iMAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;AAEO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAGxB;IAEV,MAAM,YAAY,CAAC,SAAiB;QAClC,SAAS;YAAE;YAAS;QAAK;IAC3B;IAEA,MAAM,YAAY;QAChB,SAAS;IACX;IAEA,MAAM,iBAAiB,IACrB,sBACE,8OAAC;YACC,SAAS,MAAM,OAAO;YACtB,MAAM,MAAM,IAAI;YAChB,SAAS;;;;;mBAET;IAEN,OAAO;QAAE;QAAW;IAAe;AACrC","debugId":null}},
    {"offset": {"line": 2036, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/app/admin/add-dog/AddDogForm.tsx"],"sourcesContent":["\"use client\";\n\nimport DogForm from \"@/components/admin/DogForm\";\nimport { createDog, getPotentialFosters } from \"@/lib/actions/dog.actions\";\nimport { ActionResult, makeActionResult } from \"@/lib/types\";\nimport { Dog } from \"@prisma/client\";\nimport { useActionState } from \"react\";\nimport { useToast } from \"@/components/ui/toast\";\n\nexport function AddDogForm({ potentialFosters }: { potentialFosters: Awaited<ReturnType<typeof getPotentialFosters>> }) {\n  const { showToast, ToastComponent } = useToast();\n\n  const [state, formAction] = useActionState(async (state: ActionResult<Dog>, formData: FormData) => {\n    // NO client validation here.\n    const result = await createDog(formData); // Call action directly.\n\n    if (!result.success) {\n      showToast(result.message || \"Failed to create dog.\", \"error\");\n    }\n    return result;\n  }, makeActionResult<Dog>());\n\n  return (\n    <>\n      <ToastComponent />\n      <DogForm\n        potentialFosters={potentialFosters}\n        formAction={formAction}\n        state={state}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AAPA;;;;;;;AASO,SAAS,WAAW,EAAE,gBAAgB,EAAyE;IACpH,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,GAAG,IAAA,sIAAQ;IAE9C,MAAM,CAAC,OAAO,WAAW,GAAG,IAAA,uNAAc,EAAC,OAAO,OAA0B;QAC1E,6BAA6B;QAC7B,MAAM,SAAS,MAAM,IAAA,mKAAS,EAAC,WAAW,wBAAwB;QAElE,IAAI,CAAC,OAAO,OAAO,EAAE;YACnB,UAAU,OAAO,OAAO,IAAI,yBAAyB;QACvD;QACA,OAAO;IACT,GAAG,IAAA,gIAAgB;IAEnB,qBACE;;0BACE,8OAAC;;;;;0BACD,8OAAC,0IAAO;gBACN,kBAAkB;gBAClB,YAAY;gBACZ,OAAO;;;;;;;;AAIf","debugId":null}}]
}