{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils/index.ts"],"sourcesContent":["// lib/utils/index.ts\n// Shared utility functions for the application\n\nimport { AppStatus, AppType } from \"@prisma/client\";\n\n/**\n * Humanize enum values by replacing underscores with spaces and capitalizing words\n */\nexport const humanizeEnum = (value: string): string => {\n  return value\n    .toLowerCase()\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, l => l.toUpperCase());\n};\n\n/**\n * Status variant functions for consistent badge styling\n */\nexport const getAppStatusVariant = (status: AppStatus) => {\n  switch (status) {\n    case \"APPROVED\": return \"default\";\n    case \"SUBMITTED\": case \"IN_REVIEW\": return \"secondary\";\n    case \"REJECTED\": return \"destructive\";\n    default: return \"outline\";\n  }\n};\n\n/**\n * Get allowed status transitions for applications\n */\nexport const getAllowedStatuses = (applicationType: AppType, currentStatus?: AppStatus): AppStatus[] => {\n  const allStatuses = Object.values(AppStatus);\n\n  // For foster applications, restrict some status transitions\n  if (applicationType === AppType.FOSTER) {\n    // Fosters can be approved (creates foster profile) or rejected\n    // Can't be marked as \"IN_REVIEW\" inappropriately\n    return allStatuses.filter(status =>\n      status !== AppStatus.IN_REVIEW || currentStatus === AppStatus.IN_REVIEW\n    );\n  }\n\n  // For adoption applications, all statuses are allowed\n  return allStatuses;\n};\n\n/**\n * Check if status change notes are required for a given status\n */\nexport const areStatusNotesRequired = (status: AppStatus): boolean => {\n  return status === AppStatus.APPROVED || status === AppStatus.REJECTED;\n};\n"],"names":[],"mappings":"AAAA,qBAAqB;AACrB,+CAA+C;;;;;;;;;;;AAE/C;;AAKO,MAAM,eAAe,CAAC;IAC3B,OAAO,MACJ,WAAW,GACX,OAAO,CAAC,MAAM,KACd,OAAO,CAAC,SAAS,CAAA,IAAK,EAAE,WAAW;AACxC;AAKO,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAY,OAAO;QACxB,KAAK;QAAa,KAAK;YAAa,OAAO;QAC3C,KAAK;YAAY,OAAO;QACxB;YAAS,OAAO;IAClB;AACF;AAKO,MAAM,qBAAqB,CAAC,iBAA0B;IAC3D,MAAM,cAAc,OAAO,MAAM,CAAC,0IAAS;IAE3C,4DAA4D;IAC5D,IAAI,oBAAoB,wIAAO,CAAC,MAAM,EAAE;QACtC,+DAA+D;QAC/D,iDAAiD;QACjD,OAAO,YAAY,MAAM,CAAC,CAAA,SACxB,WAAW,0IAAS,CAAC,SAAS,IAAI,kBAAkB,0IAAS,CAAC,SAAS;IAE3E;IAEA,sDAAsD;IACtD,OAAO;AACT;AAKO,MAAM,yBAAyB,CAAC;IACrC,OAAO,WAAW,0IAAS,CAAC,QAAQ,IAAI,WAAW,0IAAS,CAAC,QAAQ;AACvE","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { AppStatus, AppType, DogStatus } from \"@prisma/client\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n\n// This check can be removed, it is just for tutorial purposes\nexport const hasEnvVars =\n  !!(process.env.NEXT_PUBLIC_SUPABASE_URL &&\n     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n\n\nexport const getDogStatusVariant = (status: DogStatus) => {\n  switch (status) {\n    case \"ADOPTED\": return \"default\";\n    case \"AVAILABLE\": return \"secondary\";\n    case \"MEDICAL_HOLD\": return \"destructive\";\n    case \"PENDING\": case \"IN_FOSTER\": return \"outline\";\n    default: return \"secondary\";\n  }\n};\n\n// Date formatting utilities\nexport const formatDateTime = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  }).format(date);\n\nexport const formatDateRange = (start: Date, end: Date) => {\n  const sameDay =\n    start.getFullYear() === end.getFullYear() &&\n    start.getMonth() === end.getMonth() &&\n    start.getDate() === end.getDate();\n\n  if (sameDay) {\n    return `${formatDateTime(start)} – ${new Intl.DateTimeFormat(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    }).format(end)}`;\n  }\n\n  return `${formatDateTime(start)} → ${formatDateTime(end)}`;\n};\n\nexport const formatShiftTime = (start: Date, end: Date): string => {\n  const startDate = start.toLocaleDateString();\n  const startTime = start.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n  const endTime = end.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n\n  if (startDate === end.toLocaleDateString()) {\n    return `${startDate}, ${startTime} - ${endTime}`;\n  }\n  return `${startDate}, ${startTime} - ${end.toLocaleDateString()}, ${endTime}`;\n};\n\nexport const formatAdoptionDate = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(date);\n\n// Re-export shared utilities\nexport { humanizeEnum, getAppStatusVariant, getAllowedStatuses, areStatusNotesRequired } from './utils/index';\n\n// Test endpoint validation - allow in test environment or with test secret header\nexport function validateTestEndpoint(request: Request): { isValid: boolean; response?: Response } {\n  const isTestEnv = process.env.NODE_ENV === 'test' && process.env.EXPOSE_TEST_API === '1';\n\n  const testSecret = request.headers.get('x-test-secret');\n  const expectedSecret = process.env.TEST_SECRET || 'test-secret-default';\n  const hasValidTestSecret = testSecret === expectedSecret;\n\n  if (!isTestEnv || !hasValidTestSecret) {\n    return {\n      isValid: false,\n      response: new Response(null, { status: 404 })\n    };\n  }\n\n  return { isValid: true };\n}\n\n// Route definitions have been moved to lib/routes.ts\n// Import route functions from @/lib/routes instead\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAqEA,6BAA6B;AAC7B;;;AAlEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAIO,MAAM,aACX,CAAC,CAAC,CAAC,kKACyC;AAGvC,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAW,OAAO;QACvB,KAAK;YAAa,OAAO;QACzB,KAAK;YAAgB,OAAO;QAC5B,KAAK;QAAW,KAAK;YAAa,OAAO;QACzC;YAAS,OAAO;IAClB;AACF;AAGO,MAAM,iBAAiB,CAAC,OAC7B,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC;AAEL,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,UACJ,MAAM,WAAW,OAAO,IAAI,WAAW,MACvC,MAAM,QAAQ,OAAO,IAAI,QAAQ,MACjC,MAAM,OAAO,OAAO,IAAI,OAAO;IAEjC,IAAI,SAAS;QACX,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,IAAI,KAAK,cAAc,CAAC,SAAS;YACpE,MAAM;YACN,QAAQ;QACV,GAAG,MAAM,CAAC,MAAM;IAClB;IAEA,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,eAAe,MAAM;AAC5D;AAEO,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,YAAY,MAAM,kBAAkB;IAC1C,MAAM,YAAY,MAAM,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IACpF,MAAM,UAAU,IAAI,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IAEhF,IAAI,cAAc,IAAI,kBAAkB,IAAI;QAC1C,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,SAAS;IAClD;IACA,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,IAAI,kBAAkB,GAAG,EAAE,EAAE,SAAS;AAC/E;AAEO,MAAM,qBAAqB,CAAC,OACjC,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;;AAML,SAAS,qBAAqB,OAAgB;IACnD,MAAM,YAAY,oDAAyB,UAAU,QAAQ,GAAG,CAAC,eAAe,KAAK;IAErF,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,MAAM,iBAAiB,QAAQ,GAAG,CAAC,WAAW,IAAI;IAClD,MAAM,qBAAqB,eAAe;IAE1C,wCAAuC;QACrC,OAAO;YACL,SAAS;YACT,UAAU,IAAI,SAAS,MAAM;gBAAE,QAAQ;YAAI;QAC7C;IACF;;;AAGF,EAEA,qDAAqD;CACrD,mDAAmD","debugId":null}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/testing/RouteReady.tsx"],"sourcesContent":["/**\n * RouteReady - A test sentinel component that marks when a route has finished loading.\n *\n * This component renders a visible element that Playwright can detect as visible,\n * while remaining visually unobtrusive to users. Used for E2E test synchronization.\n */\nexport function RouteReady({ route }: { route: string }) {\n  return (\n    <div\n      data-testid=\"route-ready\"\n      data-route={route}\n      aria-hidden=\"true\"\n      style={{\n        position: 'absolute',\n        width: 1,\n        height: 1,\n        top: 0,\n        left: 0,\n        opacity: 1, // Make visible for test detection\n        pointerEvents: 'none',\n        visibility: 'visible', // Ensure it's visible\n      }}\n    />\n  );\n}\n\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;AACM,SAAS,WAAW,EAAE,KAAK,EAAqB;IACrD,qBACE,8OAAC;QACC,eAAY;QACZ,cAAY;QACZ,eAAY;QACZ,OAAO;YACL,UAAU;YACV,OAAO;YACP,QAAQ;YACR,KAAK;YACL,MAAM;YACN,SAAS;YACT,eAAe;YACf,YAAY;QACd;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/app/events/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { getEvents } from \"@/lib/actions/event.actions\";\nimport { formatDateRange } from \"@/lib/utils\";\nimport { RouteReady } from \"@/components/testing/RouteReady\";\n\n// Force revalidation in development/E2E tests for deterministic behavior\nexport const revalidate = 0;\n\ntype EventsSearchParams = {\n  view?: string;\n};\n\nexport default async function EventsPage({\n  searchParams,\n}: {\n  searchParams?: Promise<EventsSearchParams>;\n}) {\n  const resolvedSearchParams = await searchParams;\n  const events = await getEvents();\n  const now = new Date();\n  const upcoming = events.filter((event) => event.endTime >= now);\n  const past = events\n    .filter((event) => event.endTime < now)\n    .sort((a, b) => b.endTime.getTime() - a.endTime.getTime());\n\n  const view = resolvedSearchParams?.view === \"past\" ? \"past\" : \"upcoming\";\n  const displayEvents = view === \"past\" ? past : upcoming;\n\n  return (\n    <div className=\"flex-1 w-full flex flex-col items-center p-8\">\n      <div className=\"w-full max-w-4xl space-y-6\">\n        {process.env.NEXT_PUBLIC_E2E === \"true\" && (\n          <RouteReady route=\"public/events\" />\n        )}\n        <div className=\"text-center space-y-2\">\n          <h1 className=\"text-3xl font-bold\">\n            {view === \"past\" ? \"Past Events\" : \"Upcoming Events\"}\n          </h1>\n          <p className=\"text-muted-foreground\">\n            Join us for adoption fairs, fundraisers, and community gatherings.\n          </p>\n        </div>\n\n        <div className=\"flex justify-center gap-2\">\n          <Link\n            href=\"/events\"\n            className={`rounded-full px-4 py-2 text-sm font-medium transition-colors ${view === \"upcoming\" ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground hover:bg-muted/70\"}`}\n            prefetch={false}\n          >\n            Upcoming\n          </Link>\n          <Link\n            href=\"/events?view=past\"\n            className={`rounded-full px-4 py-2 text-sm font-medium transition-colors ${view === \"past\" ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground hover:bg-muted/70\"}`}\n            prefetch={false}\n          >\n            Past\n          </Link>\n        </div>\n\n        {displayEvents.length === 0 ? (\n          <p className=\"text-center text-muted-foreground\">\n            {view === \"past\"\n              ? \"No events recorded yet.\"\n              : \"No events scheduled right now. Check back soon!\"}\n          </p>\n        ) : (\n          <ul className=\"space-y-4\">\n            {displayEvents.map((event) => (\n              <li\n                key={event.id}\n                className=\"rounded-lg border border-border bg-card/50 p-5 shadow-sm\"\n              >\n                <div className=\"flex flex-col gap-2\">\n                  <h2 className=\"text-xl font-semibold\">{event.title}</h2>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {formatDateRange(event.startTime, event.endTime)}\n                  </p>\n                  {event.location && (\n                    <p className=\"text-sm text-muted-foreground\">\n                      Location: {event.location}\n                    </p>\n                  )}\n                  {event.description && (\n                    <p className=\"text-sm text-muted-foreground\">\n                      {event.description}\n                    </p>\n                  )}\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAGO,MAAM,aAAa;AAMX,eAAe,WAAW,EACvC,YAAY,EAGb;IACC,MAAM,uBAAuB,MAAM;IACnC,MAAM,SAAS,MAAM,IAAA,+IAAS;IAC9B,MAAM,MAAM,IAAI;IAChB,MAAM,WAAW,OAAO,MAAM,CAAC,CAAC,QAAU,MAAM,OAAO,IAAI;IAC3D,MAAM,OAAO,OACV,MAAM,CAAC,CAAC,QAAU,MAAM,OAAO,GAAG,KAClC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,OAAO,CAAC,OAAO,KAAK,EAAE,OAAO,CAAC,OAAO;IAEzD,MAAM,OAAO,sBAAsB,SAAS,SAAS,SAAS;IAC9D,MAAM,gBAAgB,SAAS,SAAS,OAAO;IAE/C,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;gBACZ,QAAQ,GAAG,CAAC,eAAe,KAAK,wBAC/B,8OAAC,kJAAU;oBAAC,OAAM;;;;;;8BAEpB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,SAAS,SAAS,gBAAgB;;;;;;sCAErC,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;8BAKvC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0LAAI;4BACH,MAAK;4BACL,WAAW,CAAC,6DAA6D,EAAE,SAAS,aAAa,uCAAuC,oDAAoD;4BAC5L,UAAU;sCACX;;;;;;sCAGD,8OAAC,0LAAI;4BACH,MAAK;4BACL,WAAW,CAAC,6DAA6D,EAAE,SAAS,SAAS,uCAAuC,oDAAoD;4BACxL,UAAU;sCACX;;;;;;;;;;;;gBAKF,cAAc,MAAM,KAAK,kBACxB,8OAAC;oBAAE,WAAU;8BACV,SAAS,SACN,4BACA;;;;;yCAGN,8OAAC;oBAAG,WAAU;8BACX,cAAc,GAAG,CAAC,CAAC,sBAClB,8OAAC;4BAEC,WAAU;sCAEV,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAyB,MAAM,KAAK;;;;;;kDAClD,8OAAC;wCAAE,WAAU;kDACV,IAAA,+IAAe,EAAC,MAAM,SAAS,EAAE,MAAM,OAAO;;;;;;oCAEhD,MAAM,QAAQ,kBACb,8OAAC;wCAAE,WAAU;;4CAAgC;4CAChC,MAAM,QAAQ;;;;;;;oCAG5B,MAAM,WAAW,kBAChB,8OAAC;wCAAE,WAAU;kDACV,MAAM,WAAW;;;;;;;;;;;;2BAfnB,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;AA0B7B","debugId":null}}]
}