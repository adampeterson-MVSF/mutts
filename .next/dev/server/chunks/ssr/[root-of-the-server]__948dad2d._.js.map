{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/log.ts"],"sourcesContent":["// lib/log.ts\n/**\n * Structured logging with Pino for production observability\n *\n * Replaces console.log with structured JSON logging for:\n * - Metrics aggregation (rate_limit.rejections, auth.redirects, etc.)\n * - Alerting (SLO violations)\n * - Debugging (correlated request tracing)\n */\n\nimport pino from \"pino\";\n\n// Configure Pino with production-safe settings\nconst inEdge = typeof (globalThis as { EdgeRuntime?: unknown }).EdgeRuntime !== \"undefined\";\nconst useTransport =\n  !inEdge &&\n  process.env.PINO_TRANSPORT !== \"none\" &&\n  process.env.NODE_ENV === \"production\"; // use worker only in prod\n\nexport const log = pino({\n  level: process.env.LOG_LEVEL ?? \"info\",\n  redact: {\n    paths: [\n      \"req.headers.authorization\",\n      \"req.headers.cookie\",\n      \"req.body.password\",\n      \"req.body.confirmPassword\",\n      \"password\",\n      \"token\"\n    ],\n    censor: \"[redacted]\"\n  },\n  // Add hostname and service name for multi-service correlation\n  base: {\n    service: \"senior-dog-rescue\",\n    hostname: process.env.HOSTNAME || \"unknown\",\n  },\n  // Pretty print in development for readability (but avoid worker transport)\n  ...(useTransport && {\n    transport: {\n      target: \"pino-pretty\",\n      options: {\n        colorize: true,\n        translateTime: \"SYS:standard\",\n        ignore: \"hostname,pid\",\n      },\n    },\n  }),\n});\n\n// Metric helpers for SLO tracking\nexport const metrics = {\n  // Rate limiting metrics\n  rateLimitRejection: (route: string, ipHash: string, userId?: string) =>\n    log.warn({\n      metric: \"rate_limit.rejections\",\n      route,\n      ipHash,\n      userId,\n      value: 1,\n    }, \"Rate limit exceeded\"),\n\n  // Authentication metrics\n  authRedirect: (route: string, reason: \"no_session\" | \"insufficient_role\", userRole?: string) =>\n    log.info({\n      metric: \"auth.redirects\",\n      route,\n      reason,\n      userRole,\n      value: 1,\n    }, \"Authentication redirect\"),\n\n  // Image security metrics\n  unknownImageHostRejection: (host: string, route: string) =>\n    log.warn({\n      metric: \"unknown_image_host_rejections\",\n      host,\n      route,\n      value: 1,\n    }, \"Unknown image host rejected\"),\n\n  // API latency metrics (p50/p95 tracking)\n  apiLatency: (route: string, method: string, statusCode: number, durationMs: number, userRole?: string) =>\n    log.info({\n      metric: \"api.latency_ms\",\n      route,\n      method,\n      statusCode,\n      durationMs,\n      userRole,\n      value: durationMs,\n    }, \"API request completed\"),\n\n  // Error metrics\n  serverError: (route: string, error: string, statusCode: number) =>\n    log.error({\n      metric: \"server.errors\",\n      route,\n      error,\n      statusCode,\n      value: 1,\n    }, \"Server error occurred\"),\n};\n\n// Helper to create child loggers with context\nexport function createRequestLogger(requestId: string, route: string) {\n  return log.child({\n    requestId,\n    route,\n  });\n}\n"],"names":[],"mappings":"AAAA,aAAa;AACb;;;;;;;CAOC;;;;;;;;AAED;;AAEA,+CAA+C;AAC/C,MAAM,SAAS,OAAO,AAAC,WAAyC,WAAW,KAAK;AAChF,MAAM,eACJ,CAAC,UACD,QAAQ,GAAG,CAAC,cAAc,KAAK,UAC/B,oDAAyB,cAAc,0BAA0B;AAE5D,MAAM,MAAM,IAAA,uIAAI,EAAC;IACtB,OAAO,QAAQ,GAAG,CAAC,SAAS,IAAI;IAChC,QAAQ;QACN,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;SACD;QACD,QAAQ;IACV;IACA,8DAA8D;IAC9D,MAAM;QACJ,SAAS;QACT,UAAU,QAAQ,GAAG,CAAC,QAAQ,IAAI;IACpC;IACA,2EAA2E;IAC3E,GAAI,gBAAgB;QAClB,WAAW;YACT,QAAQ;YACR,SAAS;gBACP,UAAU;gBACV,eAAe;gBACf,QAAQ;YACV;QACF;IACF,CAAC;AACH;AAGO,MAAM,UAAU;IACrB,wBAAwB;IACxB,oBAAoB,CAAC,OAAe,QAAgB,SAClD,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,yBAAyB;IACzB,cAAc,CAAC,OAAe,QAA4C,WACxE,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,yBAAyB;IACzB,2BAA2B,CAAC,MAAc,QACxC,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA,OAAO;QACT,GAAG;IAEL,yCAAyC;IACzC,YAAY,CAAC,OAAe,QAAgB,YAAoB,YAAoB,WAClF,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,gBAAgB;IAChB,aAAa,CAAC,OAAe,OAAe,aAC1C,IAAI,KAAK,CAAC;YACR,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;AACP;AAGO,SAAS,oBAAoB,SAAiB,EAAE,KAAa;IAClE,OAAO,IAAI,KAAK,CAAC;QACf;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/image-loader.ts"],"sourcesContent":["// lib/image-loader.ts\n// Custom Next.js Image loader with telemetry for domain validation\n\nimport { metrics } from \"@/lib/log\";\n\n// Allowed domains from next.config.ts for reference\nconst ALLOWED_DOMAINS = [\n  'via.placeholder.com',\n  'picsum.photos',\n  'scontent.xx.fbcdn.net',\n  'external.xx.fbcdn.net',\n  'dl5zpyw5k3jeb.cloudfront.net',\n  'assets.adoptapet.com',\n  'muttville.org',\n  // Supabase domain will be added dynamically below\n];\n\nexport default function imageLoader({ src, width, quality }: {\n  src: string;\n  width: number;\n  quality?: number;\n}) {\n  // Extract hostname from src URL for telemetry\n  try {\n    const url = new URL(src);\n    const hostname = url.hostname;\n\n    // Get Supabase hostname if available\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n    let supabaseHostname: string | null = null;\n    if (supabaseUrl) {\n      try {\n        supabaseHostname = new URL(supabaseUrl).hostname;\n      } catch {\n        // Invalid Supabase URL\n      }\n    }\n\n    const allAllowedDomains = supabaseHostname\n      ? [...ALLOWED_DOMAINS, supabaseHostname]\n      : ALLOWED_DOMAINS;\n\n    // Check if domain is in allowlist\n    const isAllowed = allAllowedDomains.some(allowed => {\n      if (allowed.includes('xx')) {\n        // Handle Facebook's region-specific domains\n        return hostname.includes('fbcdn.net');\n      }\n      return hostname === allowed || hostname === 'localhost'; // Allow localhost for development\n    });\n\n    if (!isAllowed) {\n      // Emit SLO metric for unknown image host rejections\n      metrics.unknownImageHostRejection(hostname, 'image-loader');\n\n      const errorMsg = `[ImageLoader] ðŸš« Domain not allowed: ${hostname}. Add to next.config.ts remotePatterns if legitimate.`;\n      console.error(errorMsg);\n      console.error(`[ImageLoader] Allowed domains: ${allAllowedDomains.join(', ')}`);\n      console.error(`[ImageLoader] Image source: ${src}`);\n\n      // In development, this will help catch configuration issues early\n      if (process.env.NODE_ENV === 'development') {\n        console.error(`[ImageLoader] To fix: Add '${hostname}' to remotePatterns in next.config.ts`);\n      }\n    } else {\n      // Log allowed domain usage for monitoring\n      console.log(`[ImageLoader] âœ… Loading image from allowed domain: ${hostname}`);\n    }\n\n    // In development, warn about potentially problematic sources\n    if (process.env.NODE_ENV === 'development') {\n      const suspiciousPatterns = ['http:', 'localhost', '127.0.0.1', '0.0.0.0'];\n      const isSuspicious = suspiciousPatterns.some(pattern => src.includes(pattern));\n\n      if (isSuspicious) {\n        console.warn(`[ImageLoader] âš ï¸  Suspicious image source (allowed but review): ${src}`);\n      }\n    }\n  } catch (error) {\n    // If URL parsing fails, log the error for debugging\n    console.error(`[ImageLoader] Failed to parse image URL: ${src}`, error);\n  }\n\n  // Use Next.js default loader behavior\n  return `${src}?w=${width}&q=${quality || 75}`;\n}\n"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,mEAAmE;;;;;AAEnE;;AAEA,oDAAoD;AACpD,MAAM,kBAAkB;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;CAED;AAEc,SAAS,YAAY,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAIxD;IACC,8CAA8C;IAC9C,IAAI;QACF,MAAM,MAAM,IAAI,IAAI;QACpB,MAAM,WAAW,IAAI,QAAQ;QAE7B,qCAAqC;QACrC,MAAM;QACN,IAAI,mBAAkC;QACtC,wCAAiB;YACf,IAAI;gBACF,mBAAmB,IAAI,IAAI,aAAa,QAAQ;YAClD,EAAE,OAAM;YACN,uBAAuB;YACzB;QACF;QAEA,MAAM,oBAAoB,mBACtB;eAAI;YAAiB;SAAiB,GACtC;QAEJ,kCAAkC;QAClC,MAAM,YAAY,kBAAkB,IAAI,CAAC,CAAA;YACvC,IAAI,QAAQ,QAAQ,CAAC,OAAO;gBAC1B,4CAA4C;gBAC5C,OAAO,SAAS,QAAQ,CAAC;YAC3B;YACA,OAAO,aAAa,WAAW,aAAa,aAAa,kCAAkC;QAC7F;QAEA,IAAI,CAAC,WAAW;YACd,oDAAoD;YACpD,qHAAO,CAAC,yBAAyB,CAAC,UAAU;YAE5C,MAAM,WAAW,CAAC,qCAAqC,EAAE,SAAS,qDAAqD,CAAC;YACxH,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,kBAAkB,IAAI,CAAC,OAAO;YAC9E,QAAQ,KAAK,CAAC,CAAC,4BAA4B,EAAE,KAAK;YAElD,kEAAkE;YAClE,wCAA4C;gBAC1C,QAAQ,KAAK,CAAC,CAAC,2BAA2B,EAAE,SAAS,qCAAqC,CAAC;YAC7F;QACF,OAAO;YACL,0CAA0C;YAC1C,QAAQ,GAAG,CAAC,CAAC,mDAAmD,EAAE,UAAU;QAC9E;QAEA,6DAA6D;QAC7D,wCAA4C;YAC1C,MAAM,qBAAqB;gBAAC;gBAAS;gBAAa;gBAAa;aAAU;YACzE,MAAM,eAAe,mBAAmB,IAAI,CAAC,CAAA,UAAW,IAAI,QAAQ,CAAC;YAErE,IAAI,cAAc;gBAChB,QAAQ,IAAI,CAAC,CAAC,gEAAgE,EAAE,KAAK;YACvF;QACF;IACF,EAAE,OAAO,OAAO;QACd,oDAAoD;QACpD,QAAQ,KAAK,CAAC,CAAC,yCAAyC,EAAE,KAAK,EAAE;IACnE;IAEA,sCAAsC;IACtC,OAAO,GAAG,IAAI,GAAG,EAAE,MAAM,GAAG,EAAE,WAAW,IAAI;AAC/C","debugId":null}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils/index.ts"],"sourcesContent":["// lib/utils/index.ts\n// Shared utility functions for the application\n\nimport { AppStatus, AppType } from \"@prisma/client\";\n\n/**\n * Humanize enum values by replacing underscores with spaces and capitalizing words\n */\nexport const humanizeEnum = (value: string): string => {\n  return value\n    .toLowerCase()\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, l => l.toUpperCase());\n};\n\n/**\n * Status variant functions for consistent badge styling\n */\nexport const getAppStatusVariant = (status: AppStatus) => {\n  switch (status) {\n    case \"APPROVED\": return \"default\";\n    case \"SUBMITTED\": case \"IN_REVIEW\": return \"secondary\";\n    case \"REJECTED\": return \"destructive\";\n    default: return \"outline\";\n  }\n};\n\n/**\n * Get allowed status transitions for applications\n */\nexport const getAllowedStatuses = (applicationType: AppType, currentStatus?: AppStatus): AppStatus[] => {\n  const allStatuses = Object.values(AppStatus);\n\n  // For foster applications, restrict some status transitions\n  if (applicationType === AppType.FOSTER) {\n    // Fosters can be approved (creates foster profile) or rejected\n    // Can't be marked as \"IN_REVIEW\" inappropriately\n    return allStatuses.filter(status =>\n      status !== AppStatus.IN_REVIEW || currentStatus === AppStatus.IN_REVIEW\n    );\n  }\n\n  // For adoption applications, all statuses are allowed\n  return allStatuses;\n};\n\n/**\n * Check if status change notes are required for a given status\n */\nexport const areStatusNotesRequired = (status: AppStatus): boolean => {\n  return status === AppStatus.APPROVED || status === AppStatus.REJECTED;\n};\n"],"names":[],"mappings":"AAAA,qBAAqB;AACrB,+CAA+C;;;;;;;;;;;AAE/C;;AAKO,MAAM,eAAe,CAAC;IAC3B,OAAO,MACJ,WAAW,GACX,OAAO,CAAC,MAAM,KACd,OAAO,CAAC,SAAS,CAAA,IAAK,EAAE,WAAW;AACxC;AAKO,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAY,OAAO;QACxB,KAAK;QAAa,KAAK;YAAa,OAAO;QAC3C,KAAK;YAAY,OAAO;QACxB;YAAS,OAAO;IAClB;AACF;AAKO,MAAM,qBAAqB,CAAC,iBAA0B;IAC3D,MAAM,cAAc,OAAO,MAAM,CAAC,0IAAS;IAE3C,4DAA4D;IAC5D,IAAI,oBAAoB,wIAAO,CAAC,MAAM,EAAE;QACtC,+DAA+D;QAC/D,iDAAiD;QACjD,OAAO,YAAY,MAAM,CAAC,CAAA,SACxB,WAAW,0IAAS,CAAC,SAAS,IAAI,kBAAkB,0IAAS,CAAC,SAAS;IAE3E;IAEA,sDAAsD;IACtD,OAAO;AACT;AAKO,MAAM,yBAAyB,CAAC;IACrC,OAAO,WAAW,0IAAS,CAAC,QAAQ,IAAI,WAAW,0IAAS,CAAC,QAAQ;AACvE","debugId":null}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { AppStatus, AppType, DogStatus } from \"@prisma/client\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n\n// This check can be removed, it is just for tutorial purposes\nexport const hasEnvVars =\n  !!(process.env.NEXT_PUBLIC_SUPABASE_URL &&\n     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n\n\nexport const getDogStatusVariant = (status: DogStatus) => {\n  switch (status) {\n    case \"ADOPTED\": return \"default\";\n    case \"AVAILABLE\": return \"secondary\";\n    case \"MEDICAL_HOLD\": return \"destructive\";\n    case \"PENDING\": case \"IN_FOSTER\": return \"outline\";\n    default: return \"secondary\";\n  }\n};\n\n// Date formatting utilities\nexport const formatDateTime = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  }).format(date);\n\nexport const formatDateRange = (start: Date, end: Date) => {\n  const sameDay =\n    start.getFullYear() === end.getFullYear() &&\n    start.getMonth() === end.getMonth() &&\n    start.getDate() === end.getDate();\n\n  if (sameDay) {\n    return `${formatDateTime(start)} â€“ ${new Intl.DateTimeFormat(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    }).format(end)}`;\n  }\n\n  return `${formatDateTime(start)} â†’ ${formatDateTime(end)}`;\n};\n\nexport const formatShiftTime = (start: Date, end: Date): string => {\n  const startDate = start.toLocaleDateString();\n  const startTime = start.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n  const endTime = end.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n\n  if (startDate === end.toLocaleDateString()) {\n    return `${startDate}, ${startTime} - ${endTime}`;\n  }\n  return `${startDate}, ${startTime} - ${end.toLocaleDateString()}, ${endTime}`;\n};\n\nexport const formatAdoptionDate = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(date);\n\n// Re-export shared utilities\nexport { humanizeEnum, getAppStatusVariant, getAllowedStatuses, areStatusNotesRequired } from './utils/index';\n\n// Test endpoint validation - allow in test environment or with test secret header\nexport function validateTestEndpoint(request: Request): { isValid: boolean; response?: Response } {\n  const isTestEnv = process.env.NODE_ENV === 'test' && process.env.EXPOSE_TEST_API === '1';\n\n  const testSecret = request.headers.get('x-test-secret');\n  const expectedSecret = process.env.TEST_SECRET || 'test-secret-default';\n  const hasValidTestSecret = testSecret === expectedSecret;\n\n  if (!isTestEnv || !hasValidTestSecret) {\n    return {\n      isValid: false,\n      response: new Response(null, { status: 404 })\n    };\n  }\n\n  return { isValid: true };\n}\n\n// Route definitions have been moved to lib/routes.ts\n// Import route functions from @/lib/routes instead\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAqEA,6BAA6B;AAC7B;;;AAlEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAIO,MAAM,aACX,CAAC,CAAC,CAAC,kKACyC;AAGvC,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAW,OAAO;QACvB,KAAK;YAAa,OAAO;QACzB,KAAK;YAAgB,OAAO;QAC5B,KAAK;QAAW,KAAK;YAAa,OAAO;QACzC;YAAS,OAAO;IAClB;AACF;AAGO,MAAM,iBAAiB,CAAC,OAC7B,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC;AAEL,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,UACJ,MAAM,WAAW,OAAO,IAAI,WAAW,MACvC,MAAM,QAAQ,OAAO,IAAI,QAAQ,MACjC,MAAM,OAAO,OAAO,IAAI,OAAO;IAEjC,IAAI,SAAS;QACX,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,IAAI,KAAK,cAAc,CAAC,SAAS;YACpE,MAAM;YACN,QAAQ;QACV,GAAG,MAAM,CAAC,MAAM;IAClB;IAEA,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,eAAe,MAAM;AAC5D;AAEO,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,YAAY,MAAM,kBAAkB;IAC1C,MAAM,YAAY,MAAM,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IACpF,MAAM,UAAU,IAAI,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IAEhF,IAAI,cAAc,IAAI,kBAAkB,IAAI;QAC1C,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,SAAS;IAClD;IACA,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,IAAI,kBAAkB,GAAG,EAAE,EAAE,SAAS;AAC/E;AAEO,MAAM,qBAAqB,CAAC,OACjC,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;;AAML,SAAS,qBAAqB,OAAgB;IACnD,MAAM,YAAY,oDAAyB,UAAU,QAAQ,GAAG,CAAC,eAAe,KAAK;IAErF,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,MAAM,iBAAiB,QAAQ,GAAG,CAAC,WAAW,IAAI;IAClD,MAAM,qBAAqB,eAAe;IAE1C,wCAAuC;QACrC,OAAO;YACL,SAAS;YACT,UAAU,IAAI,SAAS,MAAM;gBAAE,QAAQ;YAAI;QAC7C;IACF;;;AAGF,EAEA,qDAAqD;CACrD,mDAAmD","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  type = \"button\",\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      type={Comp === \"button\" ? type : undefined}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,OAAO,QAAQ,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,MAAM,SAAS,WAAW,OAAO;QAChC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/url-pagination-client.ts"],"sourcesContent":["\"use client\";\n\n/**\n * Client-side URL pagination utilities\n */\n\nimport { useRouter, usePathname, useSearchParams } from \"next/navigation\";\nimport { useTransition } from \"react\";\n\nexport const PAGINATION_PARAMS = {\n  PAGE: \"page\",\n} as const;\n\n/**\n * Hook for managing URL-based pagination\n * Provides consistent pagination behavior across the application\n */\nexport function useUrlPagination() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const [isPending, startTransition] = useTransition();\n\n  const handlePageChange = (page: number) => {\n    const params = new URLSearchParams(searchParams.toString());\n\n    if (page === 1) {\n      params.delete(PAGINATION_PARAMS.PAGE);\n    } else {\n      params.set(PAGINATION_PARAMS.PAGE, page.toString());\n    }\n\n    const query = params.toString();\n    startTransition(() => {\n      router.push(query.length > 0 ? `${pathname}?${query}` : pathname);\n    });\n  };\n\n  return {\n    handlePageChange,\n    isPending,\n  };\n}\n"],"names":[],"mappings":";;;;;;AAEA;;CAEC,GAED;AACA;AAPA;;;AASO,MAAM,oBAAoB;IAC/B,MAAM;AACR;AAMO,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,CAAC,WAAW,gBAAgB,GAAG,IAAA,sNAAa;IAElD,MAAM,mBAAmB,CAAC;QACxB,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QAExD,IAAI,SAAS,GAAG;YACd,OAAO,MAAM,CAAC,kBAAkB,IAAI;QACtC,OAAO;YACL,OAAO,GAAG,CAAC,kBAAkB,IAAI,EAAE,KAAK,QAAQ;QAClD;QAEA,MAAM,QAAQ,OAAO,QAAQ;QAC7B,gBAAgB;YACd,OAAO,IAAI,CAAC,MAAM,MAAM,GAAG,IAAI,GAAG,SAAS,CAAC,EAAE,OAAO,GAAG;QAC1D;IACF;IAEA,OAAO;QACL;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 546, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/app/adopt/_components/AdoptPagination.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { useUrlPagination } from \"@/lib/url-pagination-client\";\n\ninterface AdoptPaginationProps {\n  currentPage: number;\n  totalPages: number;\n  hasNextPage: boolean;\n  hasPrevPage: boolean;\n}\n\nexport default function AdoptPagination({\n  currentPage,\n  totalPages,\n  hasNextPage,\n  hasPrevPage,\n}: AdoptPaginationProps) {\n  const { handlePageChange, isPending } = useUrlPagination();\n\n  return (\n    <div className=\"flex items-center justify-center gap-4 mt-8\" data-testid=\"pagination\">\n      <Button\n        variant=\"outline\"\n        onClick={() => handlePageChange(currentPage - 1)}\n        disabled={!hasPrevPage || isPending}\n        aria-label=\"Previous page\"\n      >\n        <ChevronLeft className=\"h-4 w-4 mr-1\" />\n        Previous\n      </Button>\n\n      <span className=\"text-sm text-muted-foreground\">\n        Page {currentPage} of {totalPages}\n      </span>\n\n      <Button\n        variant=\"outline\"\n        onClick={() => handlePageChange(currentPage + 1)}\n        disabled={!hasNextPage || isPending}\n        aria-label=\"Next page\"\n      >\n        Next\n        <ChevronRight className=\"h-4 w-4 ml-1\" />\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAae,SAAS,gBAAgB,EACtC,WAAW,EACX,UAAU,EACV,WAAW,EACX,WAAW,EACU;IACrB,MAAM,EAAE,gBAAgB,EAAE,SAAS,EAAE,GAAG,IAAA,sJAAgB;IAExD,qBACE,8OAAC;QAAI,WAAU;QAA8C,eAAY;;0BACvE,8OAAC,qIAAM;gBACL,SAAQ;gBACR,SAAS,IAAM,iBAAiB,cAAc;gBAC9C,UAAU,CAAC,eAAe;gBAC1B,cAAW;;kCAEX,8OAAC,mOAAW;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;0BAI1C,8OAAC;gBAAK,WAAU;;oBAAgC;oBACxC;oBAAY;oBAAK;;;;;;;0BAGzB,8OAAC,qIAAM;gBACL,SAAQ;gBACR,SAAS,IAAM,iBAAiB,cAAc;gBAC9C,UAAU,CAAC,eAAe;gBAC1B,cAAW;;oBACZ;kCAEC,8OAAC,sOAAY;wBAAC,WAAU;;;;;;;;;;;;;;;;;;AAIhC","debugId":null}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kIAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 657, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,kIAAE,EACX,sQACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAW,IAAA,kIAAE,EAAC;sBAEd,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/dog-filters.ts"],"sourcesContent":["/**\n * Dog filters DTO and URL helpers for consistent filtering across dog-related components\n */\n\nimport { DogSize, Gender, DogStatus } from \"@prisma/client\";\n\n/**\n * Canonical parameter names for dog filter URL search parameters\n */\nexport const DOG_FILTER_PARAMS = {\n  BREED: \"breed\",\n  AGE_MIN: \"ageMin\",\n  AGE_MAX: \"ageMax\",\n  SPECIAL_NEEDS: \"specialNeeds\",\n  SIZE: \"size\",\n  GENDER: \"gender\",\n  HAS_PHOTOS: \"hasPhotos\",\n} as const;\n\n/**\n * Canonical parameter names for admin dog filter URL search parameters\n */\nexport const ADMIN_DOG_FILTER_PARAMS = {\n  STATUS: \"status\",\n  FOSTER_PROFILE_ID: \"fosterProfileId\",\n  BREED: \"breed\",\n  GENDER: \"gender\",\n  SIZE: \"size\",\n  WEIGHT_MIN: \"weightMin\",\n  WEIGHT_MAX: \"weightMax\",\n  SPECIAL_NEEDS: \"specialNeeds\",\n  HAS_PHOTOS: \"hasPhotos\",\n} as const;\n\n/**\n * Magic values for foster filtering (kept at edge layers)\n */\nexport const FOSTER_FILTER_VALUES = {\n  ALL: \"all\",\n  NONE: \"none\", // URL layer sentinel for \"no foster assigned\"\n  NO_FOSTER_FORM: \"\", // Form layer sentinel for \"no foster assigned\" (empty string)\n} as const;\n\n/**\n * Dog filters DTO - data transfer object for dog filtering (adopt page)\n */\nexport type DogFilters = {\n  breed?: string;\n  gender?: Gender;\n  size?: DogSize;\n  specialNeeds?: \"true\";\n  hasPhotos?: \"true\";\n};\n\n/**\n * Admin dog filters DTO - data transfer object for admin dog filtering\n */\nexport type AdminDogFilters = {\n  status?: DogStatus | \"all\";\n  fosterProfileId?: string;\n  breed?: string;\n  gender?: Gender | \"all\";\n  size?: DogSize | \"all\";\n  weightMin?: string;\n  weightMax?: string;\n  specialNeeds?: \"all\" | \"true\" | \"false\";\n  hasPhotos?: \"all\" | \"true\" | \"false\";\n};\n\n/**\n * Type guard to check if a foster filter value means \"no foster assigned\"\n */\nexport function isNoFosterFilter(value: string): boolean {\n  return value === FOSTER_FILTER_VALUES.NONE;\n}\n\n/**\n * Parse a foster filter value into a typed union or enum.\n * Returns the profile ID string if it's a specific foster, null if \"no foster\", or undefined if \"all\".\n */\nexport function parseFosterFilterValue(value: string): string | null | undefined {\n  if (value === FOSTER_FILTER_VALUES.ALL) return undefined;\n  if (value === FOSTER_FILTER_VALUES.NONE) return null;\n  return value; // Specific foster profile ID\n}\n\n/**\n * Parse dog filters from URL search parameters\n */\nexport function parseDogFilters(searchParams: URLSearchParams): DogFilters {\n  return {\n    breed: searchParams.get(DOG_FILTER_PARAMS.BREED) || undefined,\n    specialNeeds: searchParams.get(DOG_FILTER_PARAMS.SPECIAL_NEEDS) === \"true\" ? \"true\" : undefined,\n    size: searchParams.get(DOG_FILTER_PARAMS.SIZE) as DogSize || undefined,\n    gender: searchParams.get(DOG_FILTER_PARAMS.GENDER) as Gender || undefined,\n    hasPhotos: searchParams.get(DOG_FILTER_PARAMS.HAS_PHOTOS) === \"true\" ? \"true\" : undefined,\n  };\n}\n\n/**\n * Serialize dog filters to URL search parameters\n */\nexport function serializeDogFilters(filters: DogFilters): URLSearchParams {\n  const params = new URLSearchParams();\n\n  if (filters.breed) params.set(DOG_FILTER_PARAMS.BREED, filters.breed);\n  if (filters.specialNeeds) params.set(DOG_FILTER_PARAMS.SPECIAL_NEEDS, \"true\");\n  if (filters.size) params.set(DOG_FILTER_PARAMS.SIZE, filters.size);\n  if (filters.gender) params.set(DOG_FILTER_PARAMS.GENDER, filters.gender);\n  if (filters.hasPhotos) params.set(DOG_FILTER_PARAMS.HAS_PHOTOS, \"true\");\n\n  return params;\n}\n\n/**\n * Encode dog filters to URL search string\n */\nexport function encodeDogFilters(filters: DogFilters): string {\n  return serializeDogFilters(filters).toString();\n}\n\n/**\n * Check if any filters are active\n */\nexport function hasActiveFilters(filters: DogFilters): boolean {\n  return !!(\n    filters.breed ||\n    filters.specialNeeds ||\n    filters.size ||\n    filters.gender ||\n    filters.hasPhotos\n  );\n}\n\n/**\n * Create empty dog filters\n */\nexport function createEmptyDogFilters(): DogFilters {\n  return {};\n}\n\n/**\n * Get dog filters from URL search parameters with Next.js router\n */\nexport function getDogFiltersFromSearchParams(searchParams: URLSearchParams): DogFilters {\n  return parseDogFilters(searchParams);\n}\n\n/**\n * Update dog filters in URL using Next.js router\n */\nexport function updateDogFiltersInUrl(\n  router: { push: (url: string) => void }, // Next.js App Router useRouter\n  pathname: string,\n  currentFilters: DogFilters,\n  patch: Partial<DogFilters>\n): void {\n  const newFilters = { ...currentFilters, ...patch };\n  const params = serializeDogFilters(newFilters);\n  router.push(`${pathname}?${params.toString()}`);\n}\n\n/**\n * Parse admin dog filters from URL search parameters\n */\nexport function parseAdminDogFilters(searchParams: URLSearchParams): AdminDogFilters {\n  return {\n    status: searchParams.get(ADMIN_DOG_FILTER_PARAMS.STATUS) as DogStatus || \"all\",\n    fosterProfileId: searchParams.get(ADMIN_DOG_FILTER_PARAMS.FOSTER_PROFILE_ID) || \"all\",\n    breed: searchParams.get(ADMIN_DOG_FILTER_PARAMS.BREED) || \"all\",\n    gender: searchParams.get(ADMIN_DOG_FILTER_PARAMS.GENDER) as Gender || \"all\",\n    size: searchParams.get(ADMIN_DOG_FILTER_PARAMS.SIZE) as DogSize || \"all\",\n    weightMin: searchParams.get(ADMIN_DOG_FILTER_PARAMS.WEIGHT_MIN) || \"\",\n    weightMax: searchParams.get(ADMIN_DOG_FILTER_PARAMS.WEIGHT_MAX) || \"\",\n    specialNeeds: searchParams.get(ADMIN_DOG_FILTER_PARAMS.SPECIAL_NEEDS) as \"all\" | \"true\" | \"false\" || \"all\",\n    hasPhotos: searchParams.get(ADMIN_DOG_FILTER_PARAMS.HAS_PHOTOS) as \"all\" | \"true\" | \"false\" || \"all\",\n  };\n}\n\n/**\n * Serialize admin dog filters to URL search parameters\n */\nexport function serializeAdminDogFilters(filters: AdminDogFilters): URLSearchParams {\n  const params = new URLSearchParams();\n\n  if (filters.status && filters.status !== \"all\") params.set(ADMIN_DOG_FILTER_PARAMS.STATUS, filters.status);\n  if (filters.fosterProfileId && filters.fosterProfileId !== \"all\") params.set(ADMIN_DOG_FILTER_PARAMS.FOSTER_PROFILE_ID, filters.fosterProfileId);\n  if (filters.breed && filters.breed !== \"all\") params.set(ADMIN_DOG_FILTER_PARAMS.BREED, filters.breed);\n  if (filters.gender && filters.gender !== \"all\") params.set(ADMIN_DOG_FILTER_PARAMS.GENDER, filters.gender);\n  if (filters.size && filters.size !== \"all\") params.set(ADMIN_DOG_FILTER_PARAMS.SIZE, filters.size);\n  if (filters.weightMin && filters.weightMin !== \"\") params.set(ADMIN_DOG_FILTER_PARAMS.WEIGHT_MIN, filters.weightMin);\n  if (filters.weightMax && filters.weightMax !== \"\") params.set(ADMIN_DOG_FILTER_PARAMS.WEIGHT_MAX, filters.weightMax);\n  if (filters.specialNeeds && filters.specialNeeds !== \"all\") params.set(ADMIN_DOG_FILTER_PARAMS.SPECIAL_NEEDS, filters.specialNeeds);\n  if (filters.hasPhotos && filters.hasPhotos !== \"all\") params.set(ADMIN_DOG_FILTER_PARAMS.HAS_PHOTOS, filters.hasPhotos);\n\n  return params;\n}\n\n/**\n * Encode admin dog filters to URL search string\n */\nexport function encodeAdminDogFilters(filters: AdminDogFilters): string {\n  return serializeAdminDogFilters(filters).toString();\n}\n\n/**\n * Check if any admin dog filters are active\n */\nexport function hasActiveAdminDogFilters(filters: AdminDogFilters): boolean {\n  return !!(\n    (filters.status && filters.status !== \"all\") ||\n    (filters.fosterProfileId && filters.fosterProfileId !== \"all\") ||\n    (filters.breed && filters.breed !== \"all\") ||\n    (filters.gender && filters.gender !== \"all\") ||\n    (filters.size && filters.size !== \"all\") ||\n    (filters.weightMin && filters.weightMin !== \"\") ||\n    (filters.weightMax && filters.weightMax !== \"\") ||\n    (filters.specialNeeds && filters.specialNeeds !== \"all\") ||\n    (filters.hasPhotos && filters.hasPhotos !== \"all\")\n  );\n}\n\n/**\n * Create empty admin dog filters\n */\nexport function createEmptyAdminDogFilters(): AdminDogFilters {\n  return {\n    status: \"all\",\n    fosterProfileId: \"all\",\n    breed: \"all\",\n    gender: \"all\",\n    size: \"all\",\n    weightMin: \"\",\n    weightMax: \"\",\n    specialNeeds: \"all\",\n    hasPhotos: \"all\",\n  };\n}\n\n/**\n * Get admin dog filters from URL search parameters with Next.js router\n */\nexport function getAdminDogFiltersFromSearchParams(searchParams: URLSearchParams): AdminDogFilters {\n  return parseAdminDogFilters(searchParams);\n}\n\n/**\n * Update admin dog filters in URL using Next.js router\n */\nexport function updateAdminDogFiltersInUrl(\n  router: { push: (url: string) => void }, // Next.js App Router useRouter\n  pathname: string,\n  currentFilters: AdminDogFilters,\n  patch: Partial<AdminDogFilters>\n): void {\n  const newFilters = { ...currentFilters, ...patch };\n  const params = serializeAdminDogFilters(newFilters);\n  // Reset to page 1 when filtering\n  params.set(\"page\", \"1\");\n  router.push(`${pathname}?${params.toString()}`);\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 876, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils/dog-utils.ts"],"sourcesContent":["import { DogSize } from \"@prisma/client\";\n\nexport function calculateAge(dob: Date | null | undefined): number | null {\n  if (!dob) return null;\n\n  const diff = Date.now() - new Date(dob).getTime();\n  const ageDate = new Date(diff);\n\n  return Math.abs(ageDate.getUTCFullYear() - 1970);\n}\n\nexport function isSenior(dob: Date | null | undefined): boolean {\n  const age = calculateAge(dob);\n  // Default to 'true' for seniors if age is unknown, as this is a senior dog rescue.\n  return (age || 8) >= 8;\n}\n\nexport function getSizeFromWeight(weight: number | null | undefined): DogSize {\n  if (!weight) return DogSize.UNKNOWN;\n\n  if (weight < 8) return DogSize.TOY;\n  if (weight < 20) return DogSize.SMALL;\n  if (weight < 45) return DogSize.MEDIUM;\n\n  return DogSize.LARGE;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,SAAS,aAAa,GAA4B;IACvD,IAAI,CAAC,KAAK,OAAO;IAEjB,MAAM,OAAO,KAAK,GAAG,KAAK,IAAI,KAAK,KAAK,OAAO;IAC/C,MAAM,UAAU,IAAI,KAAK;IAEzB,OAAO,KAAK,GAAG,CAAC,QAAQ,cAAc,KAAK;AAC7C;AAEO,SAAS,SAAS,GAA4B;IACnD,MAAM,MAAM,aAAa;IACzB,mFAAmF;IACnF,OAAO,CAAC,OAAO,CAAC,KAAK;AACvB;AAEO,SAAS,kBAAkB,MAAiC;IACjE,IAAI,CAAC,QAAQ,OAAO,wIAAO,CAAC,OAAO;IAEnC,IAAI,SAAS,GAAG,OAAO,wIAAO,CAAC,GAAG;IAClC,IAAI,SAAS,IAAI,OAAO,wIAAO,CAAC,KAAK;IACrC,IAAI,SAAS,IAAI,OAAO,wIAAO,CAAC,MAAM;IAEtC,OAAO,wIAAO,CAAC,KAAK;AACtB","debugId":null}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/format.ts"],"sourcesContent":["/**\n * Formatting utilities for consistent display of missing/null values and dog data formatting\n */\n\nimport { calculateAge } from \"./utils/dog-utils\";\nimport { humanizeEnum } from \"./utils\";\nimport { Gender, DogSize } from \"@prisma/client\";\n\n/**\n * Returns the value if it's truthy and non-empty, otherwise returns the fallback\n */\nexport const missing = (value: string | null | undefined, fallback = 'N/A'): string =>\n  value && value.trim() !== '' ? value : fallback;\n\n/**\n * Format dog age for display\n */\nexport const formatDogAge = (dateOfBirth: Date | null): string => {\n  if (!dateOfBirth) return missing(null);\n  const age = calculateAge(dateOfBirth);\n  return age ? `${age} years` : missing(null);\n};\n\n/**\n * Format dog gender for display\n */\nexport const formatDogGender = (gender: Gender | null): string => {\n  return gender ? humanizeEnum(gender) : missing(null);\n};\n\n/**\n * Format dog size for display\n */\nexport const formatDogSize = (size: DogSize | null): string => {\n  return size ? humanizeEnum(size) : missing(null);\n};\n\n/**\n * Format dog weight for display\n */\nexport const formatDogWeight = (weightLbs: number | null): string => {\n  return weightLbs ? `${weightLbs} lbs` : missing(null);\n};\n\n/**\n * Format date for display (e.g., \"Jan 15, 2024\")\n */\nexport const formatDisplayDate = (date: Date): string => {\n  return new Date(date).toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  });\n};\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;AAED;AACA;AAAA;;;AAMO,MAAM,UAAU,CAAC,OAAkC,WAAW,KAAK,GACxE,SAAS,MAAM,IAAI,OAAO,KAAK,QAAQ;AAKlC,MAAM,eAAe,CAAC;IAC3B,IAAI,CAAC,aAAa,OAAO,QAAQ;IACjC,MAAM,MAAM,IAAA,4IAAY,EAAC;IACzB,OAAO,MAAM,GAAG,IAAI,MAAM,CAAC,GAAG,QAAQ;AACxC;AAKO,MAAM,kBAAkB,CAAC;IAC9B,OAAO,SAAS,IAAA,qIAAY,EAAC,UAAU,QAAQ;AACjD;AAKO,MAAM,gBAAgB,CAAC;IAC5B,OAAO,OAAO,IAAA,qIAAY,EAAC,QAAQ,QAAQ;AAC7C;AAKO,MAAM,kBAAkB,CAAC;IAC9B,OAAO,YAAY,GAAG,UAAU,IAAI,CAAC,GAAG,QAAQ;AAClD;AAKO,MAAM,oBAAoB,CAAC;IAChC,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;QAChD,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF","debugId":null}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/app/adopt/_components/DogFilterUI.tsx"],"sourcesContent":["\"use client\";\n\nimport { usePathname, useRouter, useSearchParams } from \"next/navigation\";\nimport { Label } from \"@/components/ui/label\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Button } from \"@/components/ui/button\";\nimport { DogSize, Gender } from \"@prisma/client\";\nimport {\n  parseDogFilters,\n  hasActiveFilters,\n  updateDogFiltersInUrl,\n  type DogFilters,\n} from \"@/lib/dog-filters\";\nimport { missing } from \"@/lib/format\";\n\ntype DogFilterUIProps = {\n  breeds: string[];\n  sizes: DogSize[];\n  genders: Gender[];\n};\n\nexport default function DogFilterUI({ breeds, sizes, genders }: DogFilterUIProps) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n  const handleParamChange = (patch: Partial<DogFilters>) => {\n    const current = parseDogFilters(searchParams); // always current\n    updateDogFiltersInUrl(router, pathname, current, patch);\n  };\n\n  const currentFilters = parseDogFilters(searchParams);\n\n  const clearFilters = () => {\n    router.push(pathname);\n  };\n\n  return (\n    <form\n      className=\"relative z-20 mb-8 grid gap-4 rounded-lg border border-border bg-card/50 p-6 shadow-sm\"\n      onSubmit={(event) => event.preventDefault()}\n    >\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        <div className=\"flex flex-col gap-2\">\n          <Label htmlFor=\"breed\">Breed</Label>\n          <select\n            id=\"breed\"\n            value={currentFilters.breed || \"\"}\n            onChange={(e) =>\n              handleParamChange({ breed: e.target.value || undefined })\n            }\n            data-testid=\"filter-breed\"\n            className=\"h-10 rounded-md border border-input bg-transparent px-3 py-2 text-sm\"\n          >\n            <option value=\"\">All breeds</option>\n            {breeds.map((breed) => (\n              <option key={breed} value={breed}>\n                {breed}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex flex-col gap-2\">\n          <Label htmlFor=\"size\">Size</Label>\n          <select\n            id=\"size\"\n            value={currentFilters.size || \"\"}\n            onChange={(e) =>\n              handleParamChange({ size: e.target.value as DogSize || undefined })\n            }\n            data-testid=\"filter-size\"\n            className=\"h-10 rounded-md border border-input bg-transparent px-3 py-2 text-sm\"\n          >\n            <option value=\"\">All sizes</option>\n            {sizes.map((size) => (\n              <option key={size} value={size}>\n                {size.charAt(0).toUpperCase() + size.slice(1).toLowerCase()}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex flex-col gap-2\">\n          <Label htmlFor=\"gender\">Gender</Label>\n          <select\n            id=\"gender\"\n            value={currentFilters.gender || \"\"}\n            onChange={(e) =>\n              handleParamChange({ gender: e.target.value as Gender || undefined })\n            }\n            className=\"h-10 rounded-md border border-input bg-transparent px-3 py-2 text-sm\"\n          >\n            <option value=\"\">All genders</option>\n            {genders.map((gender) => (\n              <option key={gender} value={gender}>\n                {gender === 'MALE' ? 'Male' : gender === 'FEMALE' ? 'Female' : missing(null, 'Unknown')}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex flex-col justify-end gap-2\">\n          <Label htmlFor=\"specialNeeds\" className=\"text-sm font-medium\">\n            Special Needs\n          </Label>\n          <div className=\"flex items-center gap-2\">\n            <Checkbox\n              id=\"specialNeeds\"\n              data-testid=\"filter-special-needs\"\n              checked={currentFilters.specialNeeds === \"true\"}\n              onCheckedChange={(value) =>\n                handleParamChange({ specialNeeds: value ? \"true\" : undefined })\n              }\n            />\n            <span className=\"text-sm text-muted-foreground\">\n              Show only dogs with special needs\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col justify-end gap-2\">\n          <Label htmlFor=\"hasPhotos\" className=\"text-sm font-medium\">\n            Has Photos\n          </Label>\n          <div className=\"flex items-center gap-2\">\n            <Checkbox\n              id=\"hasPhotos\"\n              checked={currentFilters.hasPhotos === \"true\"}\n              onCheckedChange={(value) =>\n                handleParamChange({ hasPhotos: value ? \"true\" : undefined })\n              }\n            />\n            <span className=\"text-sm text-muted-foreground\">\n              Show only dogs with photos\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex flex-wrap items-center justify-end gap-3\">\n        {hasActiveFilters(currentFilters) && (\n          <Button\n            variant=\"ghost\"\n            type=\"button\"\n            onClick={clearFilters}\n            aria-label=\"Clear selected filters\"\n          >\n            Clear filters\n          </Button>\n        )}\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}