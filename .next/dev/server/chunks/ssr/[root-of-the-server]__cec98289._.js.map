{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/log.ts"],"sourcesContent":["// lib/log.ts\n/**\n * Structured logging with Pino for production observability\n *\n * Replaces console.log with structured JSON logging for:\n * - Metrics aggregation (rate_limit.rejections, auth.redirects, etc.)\n * - Alerting (SLO violations)\n * - Debugging (correlated request tracing)\n */\n\nimport pino from \"pino\";\n\n// Configure Pino with production-safe settings\nconst inEdge = typeof (globalThis as { EdgeRuntime?: unknown }).EdgeRuntime !== \"undefined\";\nconst useTransport =\n  !inEdge &&\n  process.env.PINO_TRANSPORT !== \"none\" &&\n  process.env.NODE_ENV === \"production\"; // use worker only in prod\n\nexport const log = pino({\n  level: process.env.LOG_LEVEL ?? \"info\",\n  redact: {\n    paths: [\n      \"req.headers.authorization\",\n      \"req.headers.cookie\",\n      \"req.body.password\",\n      \"req.body.confirmPassword\",\n      \"password\",\n      \"token\"\n    ],\n    censor: \"[redacted]\"\n  },\n  // Add hostname and service name for multi-service correlation\n  base: {\n    service: \"senior-dog-rescue\",\n    hostname: process.env.HOSTNAME || \"unknown\",\n  },\n  // Pretty print in development for readability (but avoid worker transport)\n  ...(useTransport && {\n    transport: {\n      target: \"pino-pretty\",\n      options: {\n        colorize: true,\n        translateTime: \"SYS:standard\",\n        ignore: \"hostname,pid\",\n      },\n    },\n  }),\n});\n\n// Metric helpers for SLO tracking\nexport const metrics = {\n  // Rate limiting metrics\n  rateLimitRejection: (route: string, ipHash: string, userId?: string) =>\n    log.warn({\n      metric: \"rate_limit.rejections\",\n      route,\n      ipHash,\n      userId,\n      value: 1,\n    }, \"Rate limit exceeded\"),\n\n  // Authentication metrics\n  authRedirect: (route: string, reason: \"no_session\" | \"insufficient_role\", userRole?: string) =>\n    log.info({\n      metric: \"auth.redirects\",\n      route,\n      reason,\n      userRole,\n      value: 1,\n    }, \"Authentication redirect\"),\n\n  // Image security metrics\n  unknownImageHostRejection: (host: string, route: string) =>\n    log.warn({\n      metric: \"unknown_image_host_rejections\",\n      host,\n      route,\n      value: 1,\n    }, \"Unknown image host rejected\"),\n\n  // API latency metrics (p50/p95 tracking)\n  apiLatency: (route: string, method: string, statusCode: number, durationMs: number, userRole?: string) =>\n    log.info({\n      metric: \"api.latency_ms\",\n      route,\n      method,\n      statusCode,\n      durationMs,\n      userRole,\n      value: durationMs,\n    }, \"API request completed\"),\n\n  // Error metrics\n  serverError: (route: string, error: string, statusCode: number) =>\n    log.error({\n      metric: \"server.errors\",\n      route,\n      error,\n      statusCode,\n      value: 1,\n    }, \"Server error occurred\"),\n};\n\n// Helper to create child loggers with context\nexport function createRequestLogger(requestId: string, route: string) {\n  return log.child({\n    requestId,\n    route,\n  });\n}\n"],"names":[],"mappings":"AAAA,aAAa;AACb;;;;;;;CAOC;;;;;;;;AAED;;AAEA,+CAA+C;AAC/C,MAAM,SAAS,OAAO,AAAC,WAAyC,WAAW,KAAK;AAChF,MAAM,eACJ,CAAC,UACD,QAAQ,GAAG,CAAC,cAAc,KAAK,UAC/B,oDAAyB,cAAc,0BAA0B;AAE5D,MAAM,MAAM,IAAA,uIAAI,EAAC;IACtB,OAAO,QAAQ,GAAG,CAAC,SAAS,IAAI;IAChC,QAAQ;QACN,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;SACD;QACD,QAAQ;IACV;IACA,8DAA8D;IAC9D,MAAM;QACJ,SAAS;QACT,UAAU,QAAQ,GAAG,CAAC,QAAQ,IAAI;IACpC;IACA,2EAA2E;IAC3E,GAAI,gBAAgB;QAClB,WAAW;YACT,QAAQ;YACR,SAAS;gBACP,UAAU;gBACV,eAAe;gBACf,QAAQ;YACV;QACF;IACF,CAAC;AACH;AAGO,MAAM,UAAU;IACrB,wBAAwB;IACxB,oBAAoB,CAAC,OAAe,QAAgB,SAClD,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,yBAAyB;IACzB,cAAc,CAAC,OAAe,QAA4C,WACxE,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,yBAAyB;IACzB,2BAA2B,CAAC,MAAc,QACxC,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA,OAAO;QACT,GAAG;IAEL,yCAAyC;IACzC,YAAY,CAAC,OAAe,QAAgB,YAAoB,YAAoB,WAClF,IAAI,IAAI,CAAC;YACP,QAAQ;YACR;YACA;YACA;YACA;YACA;YACA,OAAO;QACT,GAAG;IAEL,gBAAgB;IAChB,aAAa,CAAC,OAAe,OAAe,aAC1C,IAAI,KAAK,CAAC;YACR,QAAQ;YACR;YACA;YACA;YACA,OAAO;QACT,GAAG;AACP;AAGO,SAAS,oBAAoB,SAAiB,EAAE,KAAa;IAClE,OAAO,IAAI,KAAK,CAAC;QACf;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/image-loader.ts"],"sourcesContent":["// lib/image-loader.ts\n// Custom Next.js Image loader with telemetry for domain validation\n\nimport { metrics } from \"@/lib/log\";\n\n// Allowed domains from next.config.ts for reference\nconst ALLOWED_DOMAINS = [\n  'via.placeholder.com',\n  'picsum.photos',\n  'scontent.xx.fbcdn.net',\n  'external.xx.fbcdn.net',\n  'dl5zpyw5k3jeb.cloudfront.net',\n  'assets.adoptapet.com',\n  'muttville.org',\n  // Supabase domain will be added dynamically below\n];\n\nexport default function imageLoader({ src, width, quality }: {\n  src: string;\n  width: number;\n  quality?: number;\n}) {\n  // Extract hostname from src URL for telemetry\n  try {\n    const url = new URL(src);\n    const hostname = url.hostname;\n\n    // Get Supabase hostname if available\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n    let supabaseHostname: string | null = null;\n    if (supabaseUrl) {\n      try {\n        supabaseHostname = new URL(supabaseUrl).hostname;\n      } catch {\n        // Invalid Supabase URL\n      }\n    }\n\n    const allAllowedDomains = supabaseHostname\n      ? [...ALLOWED_DOMAINS, supabaseHostname]\n      : ALLOWED_DOMAINS;\n\n    // Check if domain is in allowlist\n    const isAllowed = allAllowedDomains.some(allowed => {\n      if (allowed.includes('xx')) {\n        // Handle Facebook's region-specific domains\n        return hostname.includes('fbcdn.net');\n      }\n      return hostname === allowed || hostname === 'localhost'; // Allow localhost for development\n    });\n\n    if (!isAllowed) {\n      // Emit SLO metric for unknown image host rejections\n      metrics.unknownImageHostRejection(hostname, 'image-loader');\n\n      const errorMsg = `[ImageLoader] ðŸš« Domain not allowed: ${hostname}. Add to next.config.ts remotePatterns if legitimate.`;\n      console.error(errorMsg);\n      console.error(`[ImageLoader] Allowed domains: ${allAllowedDomains.join(', ')}`);\n      console.error(`[ImageLoader] Image source: ${src}`);\n\n      // In development, this will help catch configuration issues early\n      if (process.env.NODE_ENV === 'development') {\n        console.error(`[ImageLoader] To fix: Add '${hostname}' to remotePatterns in next.config.ts`);\n      }\n    } else {\n      // Log allowed domain usage for monitoring\n      console.log(`[ImageLoader] âœ… Loading image from allowed domain: ${hostname}`);\n    }\n\n    // In development, warn about potentially problematic sources\n    if (process.env.NODE_ENV === 'development') {\n      const suspiciousPatterns = ['http:', 'localhost', '127.0.0.1', '0.0.0.0'];\n      const isSuspicious = suspiciousPatterns.some(pattern => src.includes(pattern));\n\n      if (isSuspicious) {\n        console.warn(`[ImageLoader] âš ï¸  Suspicious image source (allowed but review): ${src}`);\n      }\n    }\n  } catch (error) {\n    // If URL parsing fails, log the error for debugging\n    console.error(`[ImageLoader] Failed to parse image URL: ${src}`, error);\n  }\n\n  // Use Next.js default loader behavior\n  return `${src}?w=${width}&q=${quality || 75}`;\n}\n"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,mEAAmE;;;;;AAEnE;;AAEA,oDAAoD;AACpD,MAAM,kBAAkB;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;CAED;AAEc,SAAS,YAAY,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAIxD;IACC,8CAA8C;IAC9C,IAAI;QACF,MAAM,MAAM,IAAI,IAAI;QACpB,MAAM,WAAW,IAAI,QAAQ;QAE7B,qCAAqC;QACrC,MAAM;QACN,IAAI,mBAAkC;QACtC,wCAAiB;YACf,IAAI;gBACF,mBAAmB,IAAI,IAAI,aAAa,QAAQ;YAClD,EAAE,OAAM;YACN,uBAAuB;YACzB;QACF;QAEA,MAAM,oBAAoB,mBACtB;eAAI;YAAiB;SAAiB,GACtC;QAEJ,kCAAkC;QAClC,MAAM,YAAY,kBAAkB,IAAI,CAAC,CAAA;YACvC,IAAI,QAAQ,QAAQ,CAAC,OAAO;gBAC1B,4CAA4C;gBAC5C,OAAO,SAAS,QAAQ,CAAC;YAC3B;YACA,OAAO,aAAa,WAAW,aAAa,aAAa,kCAAkC;QAC7F;QAEA,IAAI,CAAC,WAAW;YACd,oDAAoD;YACpD,qHAAO,CAAC,yBAAyB,CAAC,UAAU;YAE5C,MAAM,WAAW,CAAC,qCAAqC,EAAE,SAAS,qDAAqD,CAAC;YACxH,QAAQ,KAAK,CAAC;YACd,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,kBAAkB,IAAI,CAAC,OAAO;YAC9E,QAAQ,KAAK,CAAC,CAAC,4BAA4B,EAAE,KAAK;YAElD,kEAAkE;YAClE,wCAA4C;gBAC1C,QAAQ,KAAK,CAAC,CAAC,2BAA2B,EAAE,SAAS,qCAAqC,CAAC;YAC7F;QACF,OAAO;YACL,0CAA0C;YAC1C,QAAQ,GAAG,CAAC,CAAC,mDAAmD,EAAE,UAAU;QAC9E;QAEA,6DAA6D;QAC7D,wCAA4C;YAC1C,MAAM,qBAAqB;gBAAC;gBAAS;gBAAa;gBAAa;aAAU;YACzE,MAAM,eAAe,mBAAmB,IAAI,CAAC,CAAA,UAAW,IAAI,QAAQ,CAAC;YAErE,IAAI,cAAc;gBAChB,QAAQ,IAAI,CAAC,CAAC,gEAAgE,EAAE,KAAK;YACvF;QACF;IACF,EAAE,OAAO,OAAO;QACd,oDAAoD;QACpD,QAAQ,KAAK,CAAC,CAAC,yCAAyC,EAAE,KAAK,EAAE;IACnE;IAEA,sCAAsC;IACtC,OAAO,GAAG,IAAI,GAAG,EAAE,MAAM,GAAG,EAAE,WAAW,IAAI;AAC/C","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils/index.ts"],"sourcesContent":["// lib/utils/index.ts\n// Shared utility functions for the application\n\nimport { AppStatus, AppType } from \"@prisma/client\";\n\n/**\n * Humanize enum values by replacing underscores with spaces and capitalizing words\n */\nexport const humanizeEnum = (value: string): string => {\n  return value\n    .toLowerCase()\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, l => l.toUpperCase());\n};\n\n/**\n * Status variant functions for consistent badge styling\n */\nexport const getAppStatusVariant = (status: AppStatus) => {\n  switch (status) {\n    case \"APPROVED\": return \"default\";\n    case \"SUBMITTED\": case \"IN_REVIEW\": return \"secondary\";\n    case \"REJECTED\": return \"destructive\";\n    default: return \"outline\";\n  }\n};\n\n/**\n * Get allowed status transitions for applications\n */\nexport const getAllowedStatuses = (applicationType: AppType, currentStatus?: AppStatus): AppStatus[] => {\n  const allStatuses = Object.values(AppStatus);\n\n  // For foster applications, restrict some status transitions\n  if (applicationType === AppType.FOSTER) {\n    // Fosters can be approved (creates foster profile) or rejected\n    // Can't be marked as \"IN_REVIEW\" inappropriately\n    return allStatuses.filter(status =>\n      status !== AppStatus.IN_REVIEW || currentStatus === AppStatus.IN_REVIEW\n    );\n  }\n\n  // For adoption applications, all statuses are allowed\n  return allStatuses;\n};\n\n/**\n * Check if status change notes are required for a given status\n */\nexport const areStatusNotesRequired = (status: AppStatus): boolean => {\n  return status === AppStatus.APPROVED || status === AppStatus.REJECTED;\n};\n"],"names":[],"mappings":"AAAA,qBAAqB;AACrB,+CAA+C;;;;;;;;;;;AAE/C;;AAKO,MAAM,eAAe,CAAC;IAC3B,OAAO,MACJ,WAAW,GACX,OAAO,CAAC,MAAM,KACd,OAAO,CAAC,SAAS,CAAA,IAAK,EAAE,WAAW;AACxC;AAKO,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAY,OAAO;QACxB,KAAK;QAAa,KAAK;YAAa,OAAO;QAC3C,KAAK;YAAY,OAAO;QACxB;YAAS,OAAO;IAClB;AACF;AAKO,MAAM,qBAAqB,CAAC,iBAA0B;IAC3D,MAAM,cAAc,OAAO,MAAM,CAAC,0IAAS;IAE3C,4DAA4D;IAC5D,IAAI,oBAAoB,wIAAO,CAAC,MAAM,EAAE;QACtC,+DAA+D;QAC/D,iDAAiD;QACjD,OAAO,YAAY,MAAM,CAAC,CAAA,SACxB,WAAW,0IAAS,CAAC,SAAS,IAAI,kBAAkB,0IAAS,CAAC,SAAS;IAE3E;IAEA,sDAAsD;IACtD,OAAO;AACT;AAKO,MAAM,yBAAyB,CAAC;IACrC,OAAO,WAAW,0IAAS,CAAC,QAAQ,IAAI,WAAW,0IAAS,CAAC,QAAQ;AACvE","debugId":null}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { AppStatus, AppType, DogStatus } from \"@prisma/client\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n\n// This check can be removed, it is just for tutorial purposes\nexport const hasEnvVars =\n  !!(process.env.NEXT_PUBLIC_SUPABASE_URL &&\n     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n\n\nexport const getDogStatusVariant = (status: DogStatus) => {\n  switch (status) {\n    case \"ADOPTED\": return \"default\";\n    case \"AVAILABLE\": return \"secondary\";\n    case \"MEDICAL_HOLD\": return \"destructive\";\n    case \"PENDING\": case \"IN_FOSTER\": return \"outline\";\n    default: return \"secondary\";\n  }\n};\n\n// Date formatting utilities\nexport const formatDateTime = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  }).format(date);\n\nexport const formatDateRange = (start: Date, end: Date) => {\n  const sameDay =\n    start.getFullYear() === end.getFullYear() &&\n    start.getMonth() === end.getMonth() &&\n    start.getDate() === end.getDate();\n\n  if (sameDay) {\n    return `${formatDateTime(start)} â€“ ${new Intl.DateTimeFormat(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    }).format(end)}`;\n  }\n\n  return `${formatDateTime(start)} â†’ ${formatDateTime(end)}`;\n};\n\nexport const formatShiftTime = (start: Date, end: Date): string => {\n  const startDate = start.toLocaleDateString();\n  const startTime = start.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n  const endTime = end.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n\n  if (startDate === end.toLocaleDateString()) {\n    return `${startDate}, ${startTime} - ${endTime}`;\n  }\n  return `${startDate}, ${startTime} - ${end.toLocaleDateString()}, ${endTime}`;\n};\n\nexport const formatAdoptionDate = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(date);\n\n// Re-export shared utilities\nexport { humanizeEnum, getAppStatusVariant, getAllowedStatuses, areStatusNotesRequired } from './utils/index';\n\n// Test endpoint validation - allow in test environment or with test secret header\nexport function validateTestEndpoint(request: Request): { isValid: boolean; response?: Response } {\n  const isTestEnv = process.env.NODE_ENV === 'test' && process.env.EXPOSE_TEST_API === '1';\n\n  const testSecret = request.headers.get('x-test-secret');\n  const expectedSecret = process.env.TEST_SECRET || 'test-secret-default';\n  const hasValidTestSecret = testSecret === expectedSecret;\n\n  if (!isTestEnv || !hasValidTestSecret) {\n    return {\n      isValid: false,\n      response: new Response(null, { status: 404 })\n    };\n  }\n\n  return { isValid: true };\n}\n\n// Route definitions have been moved to lib/routes.ts\n// Import route functions from @/lib/routes instead\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAqEA,6BAA6B;AAC7B;;;AAlEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAIO,MAAM,aACX,CAAC,CAAC,CAAC,kKACyC;AAGvC,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAW,OAAO;QACvB,KAAK;YAAa,OAAO;QACzB,KAAK;YAAgB,OAAO;QAC5B,KAAK;QAAW,KAAK;YAAa,OAAO;QACzC;YAAS,OAAO;IAClB;AACF;AAGO,MAAM,iBAAiB,CAAC,OAC7B,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC;AAEL,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,UACJ,MAAM,WAAW,OAAO,IAAI,WAAW,MACvC,MAAM,QAAQ,OAAO,IAAI,QAAQ,MACjC,MAAM,OAAO,OAAO,IAAI,OAAO;IAEjC,IAAI,SAAS;QACX,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,IAAI,KAAK,cAAc,CAAC,SAAS;YACpE,MAAM;YACN,QAAQ;QACV,GAAG,MAAM,CAAC,MAAM;IAClB;IAEA,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,eAAe,MAAM;AAC5D;AAEO,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,YAAY,MAAM,kBAAkB;IAC1C,MAAM,YAAY,MAAM,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IACpF,MAAM,UAAU,IAAI,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IAEhF,IAAI,cAAc,IAAI,kBAAkB,IAAI;QAC1C,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,SAAS;IAClD;IACA,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,IAAI,kBAAkB,GAAG,EAAE,EAAE,SAAS;AAC/E;AAEO,MAAM,qBAAqB,CAAC,OACjC,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;;AAML,SAAS,qBAAqB,OAAgB;IACnD,MAAM,YAAY,oDAAyB,UAAU,QAAQ,GAAG,CAAC,eAAe,KAAK;IAErF,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,MAAM,iBAAiB,QAAQ,GAAG,CAAC,WAAW,IAAI;IAClD,MAAM,qBAAqB,eAAe;IAE1C,wCAAuC;QACrC,OAAO;YACL,SAAS;YACT,UAAU,IAAI,SAAS,MAAM;gBAAE,QAAQ;YAAI;QAC7C;IACF;;;AAGF,EAEA,qDAAqD;CACrD,mDAAmD","debugId":null}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className,\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kIAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kIAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kIAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,kIAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE","debugId":null}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ClientTimestamp.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ClientTimestamp = registerClientReference(\n    function() { throw new Error(\"Attempted to call ClientTimestamp() from the server but ClientTimestamp is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ClientTimestamp.tsx <module evaluation>\",\n    \"ClientTimestamp\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,gEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 559, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ClientTimestamp.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ClientTimestamp = registerClientReference(\n    function() { throw new Error(\"Attempted to call ClientTimestamp() from the server but ClientTimestamp is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ClientTimestamp.tsx\",\n    \"ClientTimestamp\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,kBAAkB,IAAA,wQAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 581, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/testing/RouteReady.tsx"],"sourcesContent":["/**\n * RouteReady - A test sentinel component that marks when a route has finished loading.\n *\n * This component renders a visible element that Playwright can detect as visible,\n * while remaining visually unobtrusive to users. Used for E2E test synchronization.\n */\nexport function RouteReady({ route }: { route: string }) {\n  return (\n    <div\n      data-testid=\"route-ready\"\n      data-route={route}\n      aria-hidden=\"true\"\n      style={{\n        position: 'absolute',\n        width: 1,\n        height: 1,\n        top: 0,\n        left: 0,\n        opacity: 1, // Make visible for test detection\n        pointerEvents: 'none',\n        visibility: 'visible', // Ensure it's visible\n      }}\n    />\n  );\n}\n\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;AACM,SAAS,WAAW,EAAE,KAAK,EAAqB;IACrD,qBACE,8OAAC;QACC,eAAY;QACZ,cAAY;QACZ,eAAY;QACZ,OAAO;YACL,UAAU;YACV,OAAO;YACP,QAAQ;YACR,KAAK;YACL,MAAM;YACN,SAAS;YACT,eAAe;YACf,YAAY;QACd;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 617, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/app/happy-tails/page.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport Link from \"next/link\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { calculateAge } from \"@/lib/utils/dog-utils\";\nimport { getAdoptedDogs } from \"@/lib/actions/dog.actions\";\nimport { ClientTimestamp } from \"@/components/ClientTimestamp\";\nimport { RouteReady } from \"@/components/testing/RouteReady\";\n\nexport default async function HappyTailsPage() {\n  const adoptedDogs = await getAdoptedDogs();\n\n  return (\n    <div className=\"flex-1 w-full flex flex-col items-center p-8\">\n      <div className=\"w-full max-w-6xl space-y-8\">\n        {process.env.NEXT_PUBLIC_E2E === \"true\" && (\n          <RouteReady route=\"happy-tails\" />\n        )}\n        <div className=\"text-center space-y-2\">\n          <h1 className=\"text-3xl font-bold\">Happy Tails</h1>\n          <p className=\"text-muted-foreground\">\n            Celebrate the senior dogs who have found their forever homes.\n          </p>\n          <p className=\"text-sm text-muted-foreground\">\n            Do you have an update to share?{\" \"}\n            <a\n              href=\"mailto:adoptions@seniordogrescue.org\"\n              className=\"font-semibold text-primary hover:underline\"\n            >\n              Email the adoption team\n            </a>\n            .\n          </p>\n        </div>\n\n        {adoptedDogs.length === 0 ? (\n          <p className=\"text-center text-muted-foreground\">\n            No adoption stories yetâ€”check back soon!\n          </p>\n        ) : (\n          <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {adoptedDogs.map((dog) => {\n              const photoSrc =\n                dog.primaryPhotoUrl ||\n                \"https://images.unsplash.com/photo-1558944351-c13e5d03267b?auto=format&fit=crop&w=800&q=80\";\n\n              return (\n                <Card key={dog.id} className=\"flex flex-col\">\n                  <CardHeader>\n                    <CardTitle className=\"text-2xl\">{dog.name}</CardTitle>\n                    <CardDescription>\n                      {dog.breed ?? \"Senior Dog\"}\n                      {calculateAge(dog.dateOfBirth) ? ` Â· ${calculateAge(dog.dateOfBirth)} years old` : \"\"}\n                    </CardDescription>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Adopted on <ClientTimestamp date={dog.updatedAt.toISOString()} />\n                    </p>\n                  </CardHeader>\n                  <CardContent className=\"flex flex-1 flex-col gap-4\">\n                    <div className=\"relative h-48 w-full overflow-hidden rounded-md bg-muted\">\n                      <Image\n                        src={photoSrc}\n                        alt={`Photo of ${dog.name}`}\n                        fill\n                        sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                        style={{ objectFit: \"cover\" }}\n                        priority={false}\n                      />\n                    </div>\n                    {dog.specialNeeds && (\n                      <Badge variant=\"secondary\">Special Needs Graduate</Badge>\n                    )}\n                    <p className=\"text-sm text-muted-foreground line-clamp-4\">\n                      {dog.bioPublic\n                        ? dog.bioPublic\n                        : \"This senior pup is enjoying a cozy retirement with their family.\"}\n                    </p>\n                    <Link\n                      href={`/adopt/${dog.id}`}\n                      className=\"text-sm font-semibold text-primary hover:underline\"\n                    >\n                      View adoption story\n                    </Link>\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;;;;;;;;;;AAEe,eAAe;IAC5B,MAAM,cAAc,MAAM,IAAA,kJAAc;IAExC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;gBACZ,QAAQ,GAAG,CAAC,eAAe,KAAK,wBAC/B,8OAAC,kJAAU;oBAAC,OAAM;;;;;;8BAEpB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;sCAGrC,8OAAC;4BAAE,WAAU;;gCAAgC;gCACX;8CAChC,8OAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;gCAEG;;;;;;;;;;;;;gBAKP,YAAY,MAAM,KAAK,kBACtB,8OAAC;oBAAE,WAAU;8BAAoC;;;;;yCAIjD,8OAAC;oBAAI,WAAU;8BACZ,YAAY,GAAG,CAAC,CAAC;wBAChB,MAAM,WACJ,IAAI,eAAe,IACnB;wBAEF,qBACE,8OAAC,iIAAI;4BAAc,WAAU;;8CAC3B,8OAAC,uIAAU;;sDACT,8OAAC,sIAAS;4CAAC,WAAU;sDAAY,IAAI,IAAI;;;;;;sDACzC,8OAAC,4IAAe;;gDACb,IAAI,KAAK,IAAI;gDACb,IAAA,4IAAY,EAAC,IAAI,WAAW,IAAI,CAAC,GAAG,EAAE,IAAA,4IAAY,EAAC,IAAI,WAAW,EAAE,UAAU,CAAC,GAAG;;;;;;;sDAErF,8OAAC;4CAAE,WAAU;;gDAAgC;8DAChC,8OAAC,iJAAe;oDAAC,MAAM,IAAI,SAAS,CAAC,WAAW;;;;;;;;;;;;;;;;;;8CAG/D,8OAAC,wIAAW;oCAAC,WAAU;;sDACrB,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC,wIAAK;gDACJ,KAAK;gDACL,KAAK,CAAC,SAAS,EAAE,IAAI,IAAI,EAAE;gDAC3B,IAAI;gDACJ,OAAM;gDACN,OAAO;oDAAE,WAAW;gDAAQ;gDAC5B,UAAU;;;;;;;;;;;wCAGb,IAAI,YAAY,kBACf,8OAAC,mIAAK;4CAAC,SAAQ;sDAAY;;;;;;sDAE7B,8OAAC;4CAAE,WAAU;sDACV,IAAI,SAAS,GACV,IAAI,SAAS,GACb;;;;;;sDAEN,8OAAC,0LAAI;4CACH,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE;4CACxB,WAAU;sDACX;;;;;;;;;;;;;2BAjCM,IAAI,EAAE;;;;;oBAuCrB;;;;;;;;;;;;;;;;;AAMZ","debugId":null}}]
}