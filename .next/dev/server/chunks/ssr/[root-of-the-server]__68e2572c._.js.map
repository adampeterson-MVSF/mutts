{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/actions/log.actions.ts"],"sourcesContent":["// lib/actions/log.actions.ts\n\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { prisma } from \"@/lib/db\";\nimport { assertRole } from \"@/lib/actions/profile.actions\";\nimport { UserRole } from \"@prisma/client\";\nimport { z } from \"zod\";\n\nconst createActivityLogSchema = z.object({\n  dogId: z.coerce.number().int().positive({ message: \"Invalid dog ID\" }),\n  type: z.enum([\"NOTE\", \"CALL\", \"EMAIL\", \"VISIT\"], { message: \"Invalid activity type\" }),\n  note: z.string().min(1, { message: \"Note is required\" }).trim(),\n});\n\nexport async function createActivityLog(\n  prevState: { message?: string; success?: boolean },\n  formData: FormData\n): Promise<{ message: string; success: boolean }> {\n  try {\n    await assertRole(UserRole.STAFF);\n\n    const parsed = createActivityLogSchema.safeParse(Object.fromEntries(formData.entries()));\n    if (!parsed.success) {\n      return {\n        message: \"Validation failed: \" + Object.values(parsed.error.flatten().fieldErrors).flat().join(\", \"),\n        success: false\n      };\n    }\n\n    const { dogId, type, note } = parsed.data;\n\n    await prisma.activityLog.create({\n      data: {\n        dogId,\n        type,\n        note,\n        createdByUserId: await getCurrentUserId(),\n      },\n    });\n\n    revalidatePath(`/admin/dog/${dogId}`);\n    revalidatePath('/volunteer');\n\n    return {\n      message: \"Activity log created successfully\",\n      success: true\n    };\n\n  } catch (error) {\n    console.error(\"Create activity log error:\", error);\n    return {\n      message: error instanceof Error ? error.message : \"Failed to create activity log\",\n      success: false\n    };\n  }\n}\n\nexport async function getActivityLogs(dogId: number) {\n  const parsed = z.object({ dogId: z.coerce.number().int().positive() }).safeParse({ dogId });\n  if (!parsed.success) {\n    throw new Error(\"Invalid dog ID\");\n  }\n\n  const logs = await prisma.activityLog.findMany({\n    where: { dogId },\n    include: {\n      createdByUser: {\n        select: {\n          id: true,\n          name: true,\n        },\n      },\n    },\n    orderBy: { createdAt: 'desc' },\n  });\n\n  return logs;\n}\n\nexport async function getUserActivityLogs(userId: string, limit: number = 10) {\n  const parsed = z.object({\n    userId: z.string().uuid(),\n    limit: z.coerce.number().int().min(1).max(100).default(10)\n  }).safeParse({ userId, limit });\n\n  if (!parsed.success) {\n    throw new Error(\"Invalid parameters\");\n  }\n\n  const logs = await prisma.activityLog.findMany({\n    where: { createdByUserId: userId },\n    include: {\n      dog: {\n        select: {\n          id: true,\n          name: true,\n        },\n      },\n      createdByUser: {\n        select: {\n          id: true,\n          name: true,\n        },\n      },\n    },\n    orderBy: { createdAt: 'desc' },\n    take: limit,\n  });\n\n  return logs;\n}\n\nexport async function getRecentLogsForUser(userId: string, limit: number = 10) {\n  const parsed = z.object({\n    userId: z.string().uuid(),\n    limit: z.coerce.number().int().min(1).max(100).default(10)\n  }).safeParse({ userId, limit });\n\n  if (!parsed.success) {\n    throw new Error(\"Invalid parameters\");\n  }\n\n  const logs = await prisma.activityLog.findMany({\n    where: { createdByUserId: userId },\n    include: {\n      dog: {\n        select: {\n          id: true,\n          name: true,\n        },\n      },\n    },\n    orderBy: { createdAt: 'desc' },\n    take: limit,\n  });\n\n  return logs;\n}\n\n// Helper function to get current user ID\nasync function getCurrentUserId(): Promise<string> {\n  // This is a simplified version - you might want to import this from another action\n  const { createClient } = await import(\"@/lib/supabase/server\");\n  const supabase = await createClient();\n  const { data: { user } } = await supabase.auth.getUser();\n  if (!user) {\n    throw new Error(\"Not authenticated\");\n  }\n  return user.id;\n}"],"names":[],"mappings":";;;;;;;IAesB,oBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils/index.ts"],"sourcesContent":["// lib/utils/index.ts\n// Shared utility functions for the application\n\nimport { AppStatus, AppType } from \"@prisma/client\";\n\n/**\n * Humanize enum values by replacing underscores with spaces and capitalizing words\n */\nexport const humanizeEnum = (value: string): string => {\n  return value\n    .toLowerCase()\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, l => l.toUpperCase());\n};\n\n/**\n * Status variant functions for consistent badge styling\n */\nexport const getAppStatusVariant = (status: AppStatus) => {\n  switch (status) {\n    case \"APPROVED\": return \"default\";\n    case \"SUBMITTED\": case \"IN_REVIEW\": return \"secondary\";\n    case \"REJECTED\": return \"destructive\";\n    default: return \"outline\";\n  }\n};\n\n/**\n * Get allowed status transitions for applications\n */\nexport const getAllowedStatuses = (applicationType: AppType, currentStatus?: AppStatus): AppStatus[] => {\n  const allStatuses = Object.values(AppStatus);\n\n  // For foster applications, restrict some status transitions\n  if (applicationType === AppType.FOSTER) {\n    // Fosters can be approved (creates foster profile) or rejected\n    // Can't be marked as \"IN_REVIEW\" inappropriately\n    return allStatuses.filter(status =>\n      status !== AppStatus.IN_REVIEW || currentStatus === AppStatus.IN_REVIEW\n    );\n  }\n\n  // For adoption applications, all statuses are allowed\n  return allStatuses;\n};\n\n/**\n * Check if status change notes are required for a given status\n */\nexport const areStatusNotesRequired = (status: AppStatus): boolean => {\n  return status === AppStatus.APPROVED || status === AppStatus.REJECTED;\n};\n"],"names":[],"mappings":"AAAA,qBAAqB;AACrB,+CAA+C;;;;;;;;;;;AAE/C;;AAKO,MAAM,eAAe,CAAC;IAC3B,OAAO,MACJ,WAAW,GACX,OAAO,CAAC,MAAM,KACd,OAAO,CAAC,SAAS,CAAA,IAAK,EAAE,WAAW;AACxC;AAKO,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAY,OAAO;QACxB,KAAK;QAAa,KAAK;YAAa,OAAO;QAC3C,KAAK;YAAY,OAAO;QACxB;YAAS,OAAO;IAClB;AACF;AAKO,MAAM,qBAAqB,CAAC,iBAA0B;IAC3D,MAAM,cAAc,OAAO,MAAM,CAAC,0IAAS;IAE3C,4DAA4D;IAC5D,IAAI,oBAAoB,wIAAO,CAAC,MAAM,EAAE;QACtC,+DAA+D;QAC/D,iDAAiD;QACjD,OAAO,YAAY,MAAM,CAAC,CAAA,SACxB,WAAW,0IAAS,CAAC,SAAS,IAAI,kBAAkB,0IAAS,CAAC,SAAS;IAE3E;IAEA,sDAAsD;IACtD,OAAO;AACT;AAKO,MAAM,yBAAyB,CAAC;IACrC,OAAO,WAAW,0IAAS,CAAC,QAAQ,IAAI,WAAW,0IAAS,CAAC,QAAQ;AACvE","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { AppStatus, AppType, DogStatus } from \"@prisma/client\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n\n// This check can be removed, it is just for tutorial purposes\nexport const hasEnvVars =\n  !!(process.env.NEXT_PUBLIC_SUPABASE_URL &&\n     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n\n\nexport const getDogStatusVariant = (status: DogStatus) => {\n  switch (status) {\n    case \"ADOPTED\": return \"default\";\n    case \"AVAILABLE\": return \"secondary\";\n    case \"MEDICAL_HOLD\": return \"destructive\";\n    case \"PENDING\": case \"IN_FOSTER\": return \"outline\";\n    default: return \"secondary\";\n  }\n};\n\n// Date formatting utilities\nexport const formatDateTime = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  }).format(date);\n\nexport const formatDateRange = (start: Date, end: Date) => {\n  const sameDay =\n    start.getFullYear() === end.getFullYear() &&\n    start.getMonth() === end.getMonth() &&\n    start.getDate() === end.getDate();\n\n  if (sameDay) {\n    return `${formatDateTime(start)} – ${new Intl.DateTimeFormat(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n    }).format(end)}`;\n  }\n\n  return `${formatDateTime(start)} → ${formatDateTime(end)}`;\n};\n\nexport const formatShiftTime = (start: Date, end: Date): string => {\n  const startDate = start.toLocaleDateString();\n  const startTime = start.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n  const endTime = end.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n\n  if (startDate === end.toLocaleDateString()) {\n    return `${startDate}, ${startTime} - ${endTime}`;\n  }\n  return `${startDate}, ${startTime} - ${end.toLocaleDateString()}, ${endTime}`;\n};\n\nexport const formatAdoptionDate = (date: Date) =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  }).format(date);\n\n// Re-export shared utilities\nexport { humanizeEnum, getAppStatusVariant, getAllowedStatuses, areStatusNotesRequired } from './utils/index';\n\n// Test endpoint validation - allow in test environment or with test secret header\nexport function validateTestEndpoint(request: Request): { isValid: boolean; response?: Response } {\n  const isTestEnv = process.env.NODE_ENV === 'test' && process.env.EXPOSE_TEST_API === '1';\n\n  const testSecret = request.headers.get('x-test-secret');\n  const expectedSecret = process.env.TEST_SECRET || 'test-secret-default';\n  const hasValidTestSecret = testSecret === expectedSecret;\n\n  if (!isTestEnv || !hasValidTestSecret) {\n    return {\n      isValid: false,\n      response: new Response(null, { status: 404 })\n    };\n  }\n\n  return { isValid: true };\n}\n\n// Route definitions have been moved to lib/routes.ts\n// Import route functions from @/lib/routes instead\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AAqEA,6BAA6B;AAC7B;;;AAlEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAIO,MAAM,aACX,CAAC,CAAC,CAAC,kKACyC;AAGvC,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YAAW,OAAO;QACvB,KAAK;YAAa,OAAO;QACzB,KAAK;YAAgB,OAAO;QAC5B,KAAK;QAAW,KAAK;YAAa,OAAO;QACzC;YAAS,OAAO;IAClB;AACF;AAGO,MAAM,iBAAiB,CAAC,OAC7B,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC;AAEL,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,UACJ,MAAM,WAAW,OAAO,IAAI,WAAW,MACvC,MAAM,QAAQ,OAAO,IAAI,QAAQ,MACjC,MAAM,OAAO,OAAO,IAAI,OAAO;IAEjC,IAAI,SAAS;QACX,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,IAAI,KAAK,cAAc,CAAC,SAAS;YACpE,MAAM;YACN,QAAQ;QACV,GAAG,MAAM,CAAC,MAAM;IAClB;IAEA,OAAO,GAAG,eAAe,OAAO,GAAG,EAAE,eAAe,MAAM;AAC5D;AAEO,MAAM,kBAAkB,CAAC,OAAa;IAC3C,MAAM,YAAY,MAAM,kBAAkB;IAC1C,MAAM,YAAY,MAAM,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IACpF,MAAM,UAAU,IAAI,kBAAkB,CAAC,EAAE,EAAE;QAAE,MAAM;QAAW,QAAQ;IAAU;IAEhF,IAAI,cAAc,IAAI,kBAAkB,IAAI;QAC1C,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,SAAS;IAClD;IACA,OAAO,GAAG,UAAU,EAAE,EAAE,UAAU,GAAG,EAAE,IAAI,kBAAkB,GAAG,EAAE,EAAE,SAAS;AAC/E;AAEO,MAAM,qBAAqB,CAAC,OACjC,IAAI,KAAK,cAAc,CAAC,SAAS;QAC/B,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;;AAML,SAAS,qBAAqB,OAAgB;IACnD,MAAM,YAAY,oDAAyB,UAAU,QAAQ,GAAG,CAAC,eAAe,KAAK;IAErF,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,MAAM,iBAAiB,QAAQ,GAAG,CAAC,WAAW,IAAI;IAClD,MAAM,qBAAqB,eAAe;IAE1C,wCAAuC;QACrC,OAAO;YACL,SAAS;YACT,UAAU,IAAI,SAAS,MAAM;gBAAE,QAAQ;YAAI;QAC7C;IACF;;;AAGF,EAEA,qDAAqD;CACrD,mDAAmD","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  type = \"button\",\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      type={Comp === \"button\" ? type : undefined}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,OAAO,QAAQ,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,MAAM,SAAS,WAAW,OAAO;QAChC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kIAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ui/toast.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { X } from \"lucide-react\";\nimport { Button } from \"./button\";\n\ntype ToastType = \"success\" | \"error\";\n\ninterface ToastProps {\n  message: string;\n  type: ToastType;\n  onClose: () => void;\n}\n\nfunction Toast({ message, type, onClose }: ToastProps) {\n  useEffect(() => {\n    const timer = setTimeout(onClose, 5000); // Auto close after 5 seconds\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  return (\n    <div\n      data-testid={type === \"success\" ? \"toast-success\" : \"toast-error\"}\n      role=\"status\"\n      aria-live=\"polite\"\n      className={`fixed top-4 right-4 z-50 flex items-center gap-2 px-4 py-2 rounded-md shadow-lg ${\n        type === \"success\"\n          ? \"bg-green-500 text-white\"\n          : \"bg-red-500 text-white\"\n      }`}\n    >\n      <span className=\"flex-1\">{message}</span>\n      <Button\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={onClose}\n        className=\"h-auto p-1 hover:bg-white/20\"\n      >\n        <X className=\"h-4 w-4\" />\n      </Button>\n    </div>\n  );\n}\n\nexport function useToast() {\n  const [toast, setToast] = useState<{\n    message: string;\n    type: ToastType;\n  } | null>(null);\n\n  const showToast = (message: string, type: ToastType) => {\n    setToast({ message, type });\n  };\n\n  const hideToast = () => {\n    setToast(null);\n  };\n\n  const ToastComponent = () =>\n    toast ? (\n      <Toast\n        message={toast.message}\n        type={toast.type}\n        onClose={hideToast}\n      />\n    ) : null;\n\n  return { showToast, ToastComponent };\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAUA,SAAS,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAc;IACnD,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,WAAW,SAAS,OAAO,6BAA6B;QACtE,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAQ;IAEZ,qBACE,8OAAC;QACC,eAAa,SAAS,YAAY,kBAAkB;QACpD,MAAK;QACL,aAAU;QACV,WAAW,CAAC,gFAAgF,EAC1F,SAAS,YACL,4BACA,yBACJ;;0BAEF,8OAAC;gBAAK,WAAU;0BAAU;;;;;;0BAC1B,8OAAC,qIAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS;gBACT,WAAU;0BAEV,cAAA,8OAAC,iMAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;AAEO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAGxB;IAEV,MAAM,YAAY,CAAC,SAAiB;QAClC,SAAS;YAAE;YAAS;QAAK;IAC3B;IAEA,MAAM,YAAY;QAChB,SAAS;IACX;IAEA,MAAM,iBAAiB,IACrB,sBACE,8OAAC;YACC,SAAS,MAAM,OAAO;YACtB,MAAM,MAAM,IAAI;YAChB,SAAS;;;;;mBAET;IAEN,OAAO;QAAE;QAAW;IAAe;AACrC","debugId":null}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/admin/ActivityLogForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useActionState, useEffect } from \"react\";\nimport { createActivityLog } from \"@/lib/actions/log.actions\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/components/ui/toast\";\n\ninterface ActivityLogFormProps {\n  dogId: number;\n}\n\nexport default function ActivityLogForm({ dogId }: ActivityLogFormProps) {\n  const { showToast } = useToast();\n\n  // Server action state\n  const [state, formAction] = useActionState(createActivityLog, { message: \"\", success: false });\n\n  // Handle action state changes\n  useEffect(() => {\n    if (state.message) {\n      showToast(state.message, state.success ? \"success\" : \"error\");\n    }\n  }, [state, showToast]);\n\n  return (\n    <form action={formAction} className=\"space-y-4 mb-6\" data-testid=\"activity-log-form\">\n      <input type=\"hidden\" name=\"dogId\" value={dogId} />\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">Activity Type</label>\n          <select\n            name=\"type\"\n            className=\"h-10 rounded-md border border-input bg-transparent px-3 py-2 text-sm w-full\"\n            required\n          >\n            <option value=\"\">Select type</option>\n            <option value=\"NOTE\">Note</option>\n            <option value=\"CALL\">Call</option>\n            <option value=\"EMAIL\">Email</option>\n            <option value=\"VISIT\">Visit</option>\n          </select>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium mb-2\">Note</label>\n          <Textarea\n            name=\"note\"\n            placeholder=\"Enter activity details...\"\n            rows={3}\n            data-testid=\"log-note\"\n            required\n          />\n        </div>\n      </div>\n\n      <Button\n        type=\"submit\"\n        data-testid=\"save-log\"\n      >\n        Save Log Entry\n      </Button>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAYe,SAAS,gBAAgB,EAAE,KAAK,EAAwB;IACrE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,sIAAQ;IAE9B,sBAAsB;IACtB,MAAM,CAAC,OAAO,WAAW,GAAG,IAAA,uNAAc,EAAC,2KAAiB,EAAE;QAAE,SAAS;QAAI,SAAS;IAAM;IAE5F,8BAA8B;IAC9B,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM,OAAO,EAAE;YACjB,UAAU,MAAM,OAAO,EAAE,MAAM,OAAO,GAAG,YAAY;QACvD;IACF,GAAG;QAAC;QAAO;KAAU;IAErB,qBACE,8OAAC;QAAK,QAAQ;QAAY,WAAU;QAAiB,eAAY;;0BAC/D,8OAAC;gBAAM,MAAK;gBAAS,MAAK;gBAAQ,OAAO;;;;;;0BACzC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,QAAQ;;kDAER,8OAAC;wCAAO,OAAM;kDAAG;;;;;;kDACjB,8OAAC;wCAAO,OAAM;kDAAO;;;;;;kDACrB,8OAAC;wCAAO,OAAM;kDAAO;;;;;;kDACrB,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;kDACtB,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;;;;;;;;;;;;;kCAI1B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,WAAU;0CAAiC;;;;;;0CAClD,8OAAC,yIAAQ;gCACP,MAAK;gCACL,aAAY;gCACZ,MAAM;gCACN,eAAY;gCACZ,QAAQ;;;;;;;;;;;;;;;;;;0BAKd,8OAAC,qIAAM;gBACL,MAAK;gBACL,eAAY;0BACb;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///Users/adampeterson/Github/mutts/components/ClientTimestamp.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ninterface ClientTimestampProps {\n  date: string; // ISO date string\n  options?: Intl.DateTimeFormatOptions;\n}\n\nexport function ClientTimestamp({ date, options }: ClientTimestampProps) {\n  const [formatted, setFormatted] = useState<string>(\"\");\n\n  useEffect(() => {\n    const dateObj = new Date(date);\n    setFormatted(dateObj.toLocaleDateString(undefined, options));\n  }, [date, options]);\n\n  return <span>{formatted}</span>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,SAAS,gBAAgB,EAAE,IAAI,EAAE,OAAO,EAAwB;IACrE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAS;IAEnD,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,IAAI,KAAK;QACzB,aAAa,QAAQ,kBAAkB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAM;KAAQ;IAElB,qBAAO,8OAAC;kBAAM;;;;;;AAChB","debugId":null}}]
}